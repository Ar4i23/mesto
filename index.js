(()=>{"use strict";var t=document.querySelector(".modal__input_modal_name"),e=document.querySelector(".modal__input_modal_about"),n=document.querySelector(".profile__image-ellipse"),r=(document.querySelector(".modal__input_naming"),document.querySelector(".modal__input_linking"),document.querySelector(".profile__info-title")),o=document.querySelector(".profile__info-subtitle"),i=document.querySelector(".profile__info-edit-button"),u=document.querySelector(".profile__add-botton"),a=document.forms["profile-form-avatar"],c=document.forms["profile-form-cread"],l=document.forms["profile-form-edit"],s=(document.querySelector(".modal__img"),document.querySelector(".modal__heading"),document.querySelector("#new-element").content),f=document.querySelector(".elements"),y=(document.querySelectorAll(".modal"),{formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_invalid",activeButtonClass:"modal__button",inputErrorClass:"modal__input_error"});function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers,this._authorization=this._headers.authorization,this._contenType=this._headers["Content-Type"]}var e,n;return e=t,(n=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject}},{key:"getCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._authorization}}).then(this._checkResponse)}},{key:"addCardByServer",value:function(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._authorization}}).then(this._checkResponse)}},{key:"setUserInfo",value:function(t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then(this._checkResponse)}},{key:"setUserAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.avatar})}).then(this._checkResponse)}},{key:"deleteCardByServer",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t._id),{method:"DELETE",headers:{authorization:this._authorization}}).then(this._checkResponse)}},{key:"addLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:{authorization:this._authorization}}).then(this._checkResponse)}},{key:"deleteLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:{authorization:this._authorization}}).then(this._checkResponse)}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}var _=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e,this.handleClickImg=n,this.handleClickBtnDelete=o,this._changeLike=i,this._template=r,this._cardId=e._id,this._userId=e.owner._id,this._arrayLikes=e.likes,this._arrayLikesLength=e.likes.length,this._myId=e.myId,this._card=this._template.cloneNode(!0),this._element=this._card.querySelector(".element"),this._btnDelete=this._element.querySelector(".element__button-delete"),this._itemImg=this._element.querySelector(".element__image"),this._itemTitle=this._element.querySelector(".element__title"),this._btnLike=this._element.querySelector(".element__button-like"),this._counterLike=this._element.querySelector(".element__counter-like"),this._imgCard=this._element.querySelector(".element__image")}var e,n;return e=t,(n=[{key:"_generateCard",value:function(){return this._checkVisibleForTrashButton(),this._checkLikeStatus(),this._itemImg.src=this._data.link,this._itemImg.alt=this._data.name,this._itemTitle.textContent=this._data.name,this._card}},{key:"_checkLikeStatus",value:function(){var t=this;this._arrayLikes.forEach((function(e){e._id!==t._myId||t._btnLike.classList.add("element__button-like_active")})),this._counterLike.textContent=this._arrayLikesLength}},{key:"_checkVisibleForTrashButton",value:function(){this._btnDelete.classList.add(this._userId===this._myId?"element__button-delete_visible":"element__button-delete_hidden")}},{key:"_handleLike",value:function(){this._changeLike(this._cardId,this._btnLike)}},{key:"_setEventListeners",value:function(){var t=this;this._btnDelete.addEventListener("click",(function(){t.handleClickBtnDelete(t._data,t)})),this._btnLike.addEventListener("click",(function(){t._handleLike()})),this._imgCard.addEventListener("click",(function(){t.handleClickImg(t._data.name,t._data.link)}))}},{key:"changedLike",value:function(t){this._btnLike.classList.toggle("element__button-like_active"),this._counterLike.textContent=t.length}},{key:"getCard",value:function(){return this._generateCard(),this._setEventListeners(),this._card}},{key:"removeCard",value:function(){this._element.remove()}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}var g=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=n}var e,n;return e=t,(n=[{key:"renderItem",value:function(t){this._renderer(t)}},{key:"addItemPrepend",value:function(t){this._container.prepend(t)}}])&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}console.log;var E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._btnClose=this._popup.querySelector(".modal__close"),this._hendleEscClose=this._hendleEscClose.bind(this),this.close=this.close.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._hendleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._hendleEscClose)}},{key:"_hendleEscClose",value:function(t){if("Escape"===t.key){var e=document.querySelector("modal_opened");this.close(e)}}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){e.target.classList.contains("modal_opened")&&t.close(),e.target.classList.contains("modal__close")&&t.close()}))}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(this,arguments)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(r);if(o){var n=C(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n,r=e.hendleDelete;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._hendleDelete=r,n._form=n._popup.querySelector(".modal__form"),n._btnYes=n._form.querySelector(".modal__button"),n._btnYesDefault=n._btnYes.textContent,n}return e=u,(n=[{key:"open",value:function(t,e){P(C(u.prototype),"open",this).call(this),this._element=t,this._btnDelete=e}},{key:"setupDefaultText",value:function(){this._btnYes.textContent=this._btnYesDefault}},{key:"setEventListeners",value:function(){var t=this;P(C(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._hendleDelete(t._element,t._btnDelete),t._btnYes.textContent="".concat(t._btnYes.textContent," ...")}))}}])&&O(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(E);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==T(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},q.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(r);if(o){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._img=e._popup.querySelector(".modal__img"),e._title=e._popup.querySelector(".modal__heading"),e}return e=u,(n=[{key:"open",value:function(t,e){q(B(u.prototype),"open",this).call(this),this._img.src=e,this._img.alt=t,this._title.textContent=t}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(E);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===U(o)?o:String(o)),r)}var o}const z=function(){function t(e,n){var r=n.inputSelector,o=n.submitButtonSelector,i=n.inactiveButtonClass,u=n.activeButtonClass,a=n.inputErrorClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=e,this._inputs=Array.from(this._form.querySelectorAll(r)),this._button=this._form.querySelector(o),this._inputErrorClass=a,this._inactiveButton=i,this._activeButton=u}var e,n;return e=t,(n=[{key:"enableValidation",value:function(){this._setEventListenersValidation()}},{key:"_setEventListenersValidation",value:function(){var t=this;this._inputs.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._hasInvalidInput()?t._disableButton():t._enableButton()}))}))}},{key:"_checkInputValidity",value:function(t){var e=document.querySelector("#".concat(t.id,"-error"));t.validity.valid?(e.textContent="",this._removeRedLine(t)):(e.textContent=t.validationMessage,this._addRedLine(t))}},{key:"_hasInvalidInput",value:function(){return this._inputs.some((function(t){return!t.validity.valid}))}},{key:"_disableButton",value:function(){this._button.classList.add(this._inactiveButton),this._button.setAttribute("disabled",!0)}},{key:"_enableButton",value:function(){this._button.classList.remove(this._inactiveButton),this._button.removeAttribute("disabled")}},{key:"_removeRedLine",value:function(t){t.classList.remove(this._inputErrorClass)}},{key:"_addRedLine",value:function(t){t.classList.add(this._inputErrorClass)}},{key:"resetErrorAndClearInput",value:function(){var t=this;this._inputs.forEach((function(e){document.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(t._inputErrorClass)})),this._disableButton()}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===V(o)?o:String(o)),r)}var o}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=F(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},N.apply(this,arguments)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}console.log;var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(r);if(o){var n=F(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n,r=e.formSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._formSubmit=r,n._form=n._popup.querySelector(".modal__form"),n._inputs=n._form.querySelectorAll(".modal__input"),n._btnSave=n._form.querySelector(".modal__button"),n._btnSaveDefault=n._btnSave.textContent,n}return e=u,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputs.forEach((function(e){t[e.name]=e.value})),t}},{key:"open",value:function(){N(F(u.prototype),"open",this).call(this)}},{key:"close",value:function(){N(F(u.prototype),"close",this).call(this),this._form.reset()}},{key:"setupDefaultText",value:function(){this._btnSave.textContent=this._btnSaveDefault}},{key:"setEventListeners",value:function(){var t=this;N(F(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._formSubmit(t._getInputValues()),t._btnSave.textContent="Сохранение ..."}))}}])&&Y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(E);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===M(o)?o:String(o)),r)}var o}var G=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._titleElement=e,this._subtitleElement=n,this._avatarProfilBg=r}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._titleElement.textContent,about:this._subtitleElement.textContent}}},{key:"setUserInfo",value:function(t){this._avatarProfilBg.style.backgroundImage="url(".concat(t.avatar,")"),this._titleElement.textContent=t.name,this._subtitleElement.textContent=t.about}}])&&$(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Q=new d({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-66",headers:{authorization:"e674a970-710a-435e-8ca6-95eeadb2851d","Content-Type":"application/json"}}),W=new z(l,y),X=new z(c,y),Z=new z(a,y);Z.enableValidation(),W.enableValidation(),X.enableValidation(),n.addEventListener("click",(function(){rt.open(),Z.resetErrorAndClearInput()})),i.addEventListener("click",(function(){var n;nt.open(),n=it.getUserInfo(),t.value=n.name,e.value=n.about,W.resetErrorAndClearInput()})),u.addEventListener("click",(function(){tt.open(),X.resetErrorAndClearInput()}));var tt=new H("#my-modal-cread",{formSubmit:function(t){Q.addCardByServer(t).then((function(t){t.myId=t.owner._id,ct.renderItem(t),tt.close()})).catch((function(t){return console.error("Ошибка при создании новой карточки: ".concat(t))})).finally((function(){return tt.setupDefaultText()}))}}),et=new D("#my-modal-image"),nt=new H("#my-modal-edit",{formSubmit:function(t){Q.setUserInfo(t).then((function(t){it.setUserInfo(t),nt.close()})).catch((function(t){return console.error("Ошибка при редактировании профиля: ".concat(t))})).finally((function(){return nt.setupDefaultText()}))}}),rt=new H("#my-modal-avatar",{formSubmit:function(t){Q.setUserAvatar(t).then((function(t){it.setUserInfo(t),rt.close()})).catch((function(t){return console.error("Ошибка при редактировании Аватарки:".concat(t))})).finally((function(){return rt.setupDefaultText()}))}}),ot=new I("#my-modal-delete",{hendleDelete:function(t,e){Q.deleteCardByServer(t).then((function(){e.removeCard(),ot.close()})).catch((function(t){return console.error("Ошибка при удалении карточки:".concat(t))})).finally((function(){return ot.setupDefaultText()}))}}),it=new G(r,o,n);function ut(t,e){ot.open(t,e)}function at(t,e){et.open(t,e)}nt.setEventListeners(),tt.setEventListeners(),et.setEventListeners(),rt.setEventListeners(),ot.setEventListeners();var ct=new g({renderer:function(t){var e,n;n=(e=new _(t,at,s,ut,(function(t,n){n.classList.contains("element__button-like_active")?Q.deleteLike(t).then((function(t){e.changedLike(t.likes)})).catch((function(t){console.error("Ошибка при удалении лайка:".concat(t))})):Q.addLike(t).then((function(t){e.changedLike(t.likes)})).catch((function(t){console.error("Ошибка при добавлении лайка:".concat(t))}))}))).getCard(),ct.addItemPrepend(n)}},f);Promise.all([Q.getUserInfo(),Q.getCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];it.setUserInfo(o),i.reverse().forEach((function(t){t.myId=o._id,ct.renderItem(t)}))})).catch((function(t){return console.error("Ошибка при создании начальных данных страницы: ".concat(t))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFJVyxjQUFlWCxFQUFJeUMsYUFDakM5SyxNQUFLLFNBQUF3RCxHQUEwQixJLElBQUF1SCxHLEVBQUEsRSw0Q0FBQXZILEksbzJCQUF4QndILEVBQVFELEVBQUEsR0FBRTNCLEVBQVEyQixFQUFBLEdBQ3hCaEMsR0FBU2UsWUFBWWtCLEdBQ3JCNUIsRUFBUzZCLFVBQVVySSxTQUFRLFNBQUNrQixHQUMxQkEsRUFBUWxDLEtBQU9vSixFQUFTckssSUFDeEIwSSxHQUFZQyxXQUFXeEYsRUFDekIsR0FDRixJQUNDeUYsT0FBTSxTQUFDQyxHQUFHLE9BQ1R4RixRQUFReUYsTUFBTSxrREFBRDFKLE9BQW1EeUosR0FBTSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMv0KFhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW5wdXRzINC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y9cbmV4cG9ydCBjb25zdCBpbnB1dEVkaXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF9tb2RhbF9uYW1lJyk7XG5leHBvcnQgY29uc3QgaW5wdXRFZGl0QWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAnLm1vZGFsX19pbnB1dF9tb2RhbF9hYm91dCdcbik7XG4vLyDQsNCy0LDRgtCw0YDQutCwINC/0YDQvtGE0LjQu9GPXG5leHBvcnQgY29uc3QgYXZhdGFyUHJvZmlsQmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UtZWxsaXBzZScpO1xuLy8gaW5wdXRzINC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstGL0YUg0LrQsNGA0YLQvtGH0LXQulxuZXhwb3J0IGNvbnN0IGlucHV0Q3JlYWROYW1pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X25hbWluZycpO1xuZXhwb3J0IGNvbnN0IGlucHV0Q3JlYWRMaW5raW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJy5tb2RhbF9faW5wdXRfbGlua2luZydcbik7XG4vLyDQt9Cw0LPQvtC70L7QstC+0Log0Lgg0L/QvtC00LfQsNCz0L7Qu9C+0LLQvtC6IHByb2ZpbGVfX2luZm9cbmV4cG9ydCBjb25zdCB0aXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW5mby10aXRsZScpO1xuZXhwb3J0IGNvbnN0IHN1YnRpdGxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcucHJvZmlsZV9faW5mby1zdWJ0aXRsZSdcbik7XG4vLyDQutC90L7Qv9C60LAg0L7RgtC60YDRi9Cy0LDQvdC40Y8g0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRj1xuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5FZGl0UHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAnLnByb2ZpbGVfX2luZm8tZWRpdC1idXR0b24nXG4pO1xuLy8g0LrQvdC+0L/QutCwINC+0YLQutGA0YvQstCw0L3QuNGPINC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstGL0YUg0LrQsNGA0YLQvtGH0LXQulxuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5BZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcucHJvZmlsZV9fYWRkLWJvdHRvbidcbik7XG4vLyDQutC90L7Qv9C60Lgg0LfQsNC60YDRi9GC0LjRjyDQvNC+0LTQsNC70YzQvdGL0YUg0L7QutC+0L0g0Lgg0YHQsNC80Lgg0L7QutC90LAg0Lgg0LjRhSDRjdC70LXQvNC10L3RgtGLXG5leHBvcnQgY29uc3QgZm9ybUF2YXRhciA9IGRvY3VtZW50LmZvcm1zWydwcm9maWxlLWZvcm0tYXZhdGFyJ107XG5leHBvcnQgY29uc3QgZm9ybUNyZWFkQ2FyZCA9IGRvY3VtZW50LmZvcm1zWydwcm9maWxlLWZvcm0tY3JlYWQnXTtcbmV4cG9ydCBjb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5mb3Jtc1sncHJvZmlsZS1mb3JtLWVkaXQnXTtcbmV4cG9ydCBjb25zdCBzcmNJbWdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW1nJyk7XG5leHBvcnQgY29uc3QgaGVhZGluZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faGVhZGluZycpO1xuLy8gdGVtcGxhdGUg0LrQsNGA0YLQvtGH0LrQsFxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXctZWxlbWVudCcpLmNvbnRlbnQ7XG4vLyDQsdC70L7QuiBlbGVtZW50cyDQutGD0LTQsCDQtNC+0LHQsNCy0LvRj9GO0YLRgdGPINCz0L7RgtC+0LLRi9C1INC60LDRgNGC0L7Rh9C60LhcbmV4cG9ydCBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cycpO1xuLy/QstGB0LUg0L/QvtC/0LDQv9GLXG5leHBvcnQgY29uc3QgcG9wdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsJyk7XG5cbi8vINC80LDRgdGB0LjQsiDRgSDQvdCw0LfQstCw0L3QuNC10Lwg0Lgg0YHRgdGL0LvQutC+0LlcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiAnTmV3IFlvcmsnLFxuICAgIGxpbms6ICdodHRwczovL3JhcmUtZ2FsbGVyeS5jb20vdXBsb2Fkcy9wb3N0cy85MzQyMDktTmV3LVlvcmstQ2l0eS1zdHJlZXQtVGltZXMtU3F1YXJlLmpwZycsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0K3RgdGC0L7QvdC40Y8nLFxuICAgIGxpbms6ICdodHRwczovL3RvdXJpc20uaW50ZXJmYXgucnUvaW1hZ2VzL2Ntcy1pbWFnZS0wMDAwMDQwNjcuanBnJyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQntC30LXRgNC+INCg0LjRhtCwJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly92c2VnZGEtcG9tbmltLmNvbS91cGxvYWRzL3Bvc3RzLzIwMjItMDMvMTY0ODc1MTM1M180Ny12c2VnZGEtcG9tbmltLWNvbS1wLW96ZXJvLW1hbGF5YS1yaXRzYS1hYmtoYXppeWEtZm90by00OC5qcGcnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ9CQ0LfQvtGA0YHQutC40LUg0J7RgdGC0YDQvtCy0LAnLFxuICAgIGxpbms6ICdodHRwczovL3ZzZWdkYS1wb21uaW0uY29tL3VwbG9hZHMvcG9zdHMvMjAyMi0wMy8xNjQ4NjI3NzM3XzEwLXZzZWdkYS1wb21uaW0tY29tLXAtYXpvcnNraWUtb3N0cm92YS1mb3RvLTEyLmpwZycsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JPQvtC70LvQsNC90LTQuNGPICcsXG4gICAgbGluazogJ2h0dHBzOi8vaW1nNS5nb29kZm9uLnJ1L29yaWdpbmFsLzMwMDB4MjAwMC9mL2M1L2Ftc3RlcmRhbS12ZWNoZXItb2duaS1rYW5hbC1nb2xsYW5kaWlhLW5pZGVybGFuZHkuanBnJyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQmNGB0LvQsNC90LTQuNGPJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9hdmF0YXJzLmR6ZW5pbmZyYS5ydS9nZXQtemVuX2RvYy8xMDg4NzIvcHViXzVhZTEwNTI4YmNlNjdlNTQ2MmVjMTYyYV81YWUxYjY0MjQ4Yzg1ZWNlMjdlNTU3NTgvc2NhbGVfMTIwMCcsXG4gIH0sXG5dO1xuLy/QvtCx0YrQtdC60YIg0LrQu9GO0Ycg0LfQsNC90YfQtdC90LjRj9C80Lgg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPINGE0YPQvdC60YbQuNC5XG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLm1vZGFsX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5tb2RhbF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5tb2RhbF9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ21vZGFsX19idXR0b25faW52YWxpZCcsXG4gIGFjdGl2ZUJ1dHRvbkNsYXNzOiAnbW9kYWxfX2J1dHRvbicsXG4gIGlucHV0RXJyb3JDbGFzczogJ21vZGFsX19pbnB1dF9lcnJvcicsXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgICB0aGlzLl9hdXRob3JpemF0aW9uID0gdGhpcy5faGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgIHRoaXMuX2NvbnRlblR5cGUgPSB0aGlzLl9oZWFkZXJzWydDb250ZW50LVR5cGUnXTtcbiAgfVxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0O1xuICB9XG4gIGdldENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcbiAgICAgIH0sXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZENhcmRCeVNlcnZlcihkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGxpbms6IGRhdGEubGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cbiAgZGVsZXRlQ2FyZEJ5U2VydmVyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtkYXRhLl9pZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG4gIGFkZExpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZGVsZXRlTGlrZShpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICB9LFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGhhbmRsZUNsaWNrSW1nLFxuICAgIHRlbXBsYXRlRWxlbWVudCxcbiAgICBoYW5kbGVDbGlja0J0bkRlbGV0ZSxcbiAgICBjaGFuZ2VMaWtlXG4gICkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuaGFuZGxlQ2xpY2tJbWcgPSBoYW5kbGVDbGlja0ltZztcbiAgICB0aGlzLmhhbmRsZUNsaWNrQnRuRGVsZXRlID0gaGFuZGxlQ2xpY2tCdG5EZWxldGU7XG4gICAgdGhpcy5fY2hhbmdlTGlrZSA9IGNoYW5nZUxpa2U7XG4gICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZUVsZW1lbnQ7XG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fdXNlcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fYXJyYXlMaWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fYXJyYXlMaWtlc0xlbmd0aCA9IGRhdGEubGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX215SWQgPSBkYXRhLm15SWQ7XG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX3RlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpO1xuICAgIHRoaXMuX2J0bkRlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2J1dHRvbi1kZWxldGUnKTtcbiAgICB0aGlzLl9pdGVtSW1nID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcbiAgICB0aGlzLl9pdGVtVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpO1xuICAgIHRoaXMuX2J0bkxpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19idXR0b24tbGlrZScpO1xuICAgIHRoaXMuX2NvdW50ZXJMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fY291bnRlci1saWtlJyk7XG4gICAgdGhpcy5faW1nQ2FyZCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJyk7XG4gIH1cbiAgX2dlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jaGVja1Zpc2libGVGb3JUcmFzaEJ1dHRvbigpO1xuICAgIHRoaXMuX2NoZWNrTGlrZVN0YXR1cygpO1xuICAgIHRoaXMuX2l0ZW1JbWcuc3JjID0gdGhpcy5fZGF0YS5saW5rO1xuICAgIHRoaXMuX2l0ZW1JbWcuYWx0ID0gdGhpcy5fZGF0YS5uYW1lO1xuICAgIHRoaXMuX2l0ZW1UaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubmFtZTtcbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcbiAgfVxuICBfY2hlY2tMaWtlU3RhdHVzKCkge1xuICAgIHRoaXMuX2FycmF5TGlrZXMuZm9yRWFjaCgobGlrZSkgPT4ge1xuICAgICAgaWYgKGxpa2UuX2lkID09PSB0aGlzLl9teUlkKSB7XG4gICAgICAgIHRoaXMuX2J0bkxpa2UuY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9jb3VudGVyTGlrZS50ZXh0Q29udGVudCA9IHRoaXMuX2FycmF5TGlrZXNMZW5ndGg7XG4gIH1cbiAgX2NoZWNrVmlzaWJsZUZvclRyYXNoQnV0dG9uKCkge1xuICAgIHRoaXMuX2J0bkRlbGV0ZS5jbGFzc0xpc3QuYWRkKFxuICAgICAgdGhpcy5fdXNlcklkID09PSB0aGlzLl9teUlkXG4gICAgICAgID8gJ2VsZW1lbnRfX2J1dHRvbi1kZWxldGVfdmlzaWJsZSdcbiAgICAgICAgOiAnZWxlbWVudF9fYnV0dG9uLWRlbGV0ZV9oaWRkZW4nXG4gICAgKTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlKCkge1xuICAgIHRoaXMuX2NoYW5nZUxpa2UodGhpcy5fY2FyZElkLCB0aGlzLl9idG5MaWtlKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9idG5EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUNsaWNrQnRuRGVsZXRlKHRoaXMuX2RhdGEsIHRoaXMpO1xuICAgIH0pO1xuICAgIHRoaXMuX2J0bkxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5faW1nQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlQ2xpY2tJbWcodGhpcy5fZGF0YS5uYW1lLCB0aGlzLl9kYXRhLmxpbmspO1xuICAgIH0pO1xuICB9XG4gIGNoYW5nZWRMaWtlKGxpa2VzKSB7XG4gICAgdGhpcy5fYnRuTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19idXR0b24tbGlrZV9hY3RpdmUnKTtcbiAgICB0aGlzLl9jb3VudGVyTGlrZS50ZXh0Q29udGVudCA9IGxpa2VzLmxlbmd0aDtcbiAgfVxuXG4gIGdldENhcmQoKSB7XG4gICAgdGhpcy5fZ2VuZXJhdGVDYXJkKCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcbiAgfVxuICByZW1vdmVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lckVsZW1lbnQpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lckVsZW1lbnQ7XG4gIH1cbiAgcmVuZGVySXRlbShpdGVtKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gIH1cblxuICBhZGRJdGVtUHJlcGVuZChlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImxldCBsb2cgPSBjb25zb2xlLmxvZztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9idG5DbG9zZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UnKTtcbiAgICB0aGlzLl9oZW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hlbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ21vZGFsX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oZW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWxfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hlbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBfaGVuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21vZGFsX29wZW5lZCcpO1xuICAgICAgdGhpcy5jbG9zZShwb3B1cCk7XG4gICAgfVxuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWxfb3BlbmVkJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9fY2xvc2UnKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCwgeyBoZW5kbGVEZWxldGUgfSkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2hlbmRsZURlbGV0ZSA9IGhlbmRsZURlbGV0ZTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLm1vZGFsX19mb3JtJyk7XG4gICAgdGhpcy5fYnRuWWVzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2J1dHRvbicpO1xuICAgIHRoaXMuX2J0blllc0RlZmF1bHQgPSB0aGlzLl9idG5ZZXMudGV4dENvbnRlbnQ7XG4gIH1cbiAgb3BlbihkYXRhLCBlbGVtZW50KSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBkYXRhO1xuICAgIHRoaXMuX2J0bkRlbGV0ZSA9IGVsZW1lbnQ7XG4gIH1cblxuICBzZXR1cERlZmF1bHRUZXh0KCkge1xuICAgIHRoaXMuX2J0blllcy50ZXh0Q29udGVudCA9IHRoaXMuX2J0blllc0RlZmF1bHQ7XG4gIH1cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGVuZGxlRGVsZXRlKHRoaXMuX2VsZW1lbnQsIHRoaXMuX2J0bkRlbGV0ZSk7XG4gICAgICB0aGlzLl9idG5ZZXMudGV4dENvbnRlbnQgPSBgJHt0aGlzLl9idG5ZZXMudGV4dENvbnRlbnR9IC4uLmA7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5faW1nID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWcnKTtcbiAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faGVhZGluZycpO1xuICB9XG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2ltZy5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX2ltZy5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgfVxufVxuIiwiLy8gY2xhc3MgRm9ybVZhbGlkYXRvciDQsiDQutC+0YLQvtGA0L7QvCDQv9GA0L7QuNGB0YXQvtC00LjRgiDQstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LxcbmNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtLFxuICAgIHtcbiAgICAgIGlucHV0U2VsZWN0b3IsXG4gICAgICBzdWJtaXRCdXR0b25TZWxlY3RvcixcbiAgICAgIGluYWN0aXZlQnV0dG9uQ2xhc3MsXG4gICAgICBhY3RpdmVCdXR0b25DbGFzcyxcbiAgICAgIGlucHV0RXJyb3JDbGFzcyxcbiAgICB9XG4gICkge1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKGlucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3Ioc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbiA9IGluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5fYWN0aXZlQnV0dG9uID0gYWN0aXZlQnV0dG9uQ2xhc3M7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzVmFsaWRhdGlvbigpO1xuICB9XG4gIF9zZXRFdmVudExpc3RlbmVyc1ZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XG4gICAgY29uc3QgY3VycmVudElucHV0RXJyb3JDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0LmlkfS1lcnJvcmBcbiAgICApO1xuXG4gICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICBjdXJyZW50SW5wdXRFcnJvckNvbnRhaW5lci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgdGhpcy5fcmVtb3ZlUmVkTGluZShpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRJbnB1dEVycm9yQ29udGFpbmVyLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICB0aGlzLl9hZGRSZWRMaW5lKGlucHV0KTtcbiAgICB9XG4gIH1cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRzLnNvbWUoKGl0ZW0pID0+ICFpdGVtLnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuICBfZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbik7XG4gICAgdGhpcy5fYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgfVxuICBfZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uKTtcbiAgICB0aGlzLl9idXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICB9XG4gIF9yZW1vdmVSZWRMaW5lKGlucHV0KSB7XG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG4gIF9hZGRSZWRMaW5lKGlucHV0KSB7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG4gIHJlc2V0RXJyb3JBbmRDbGVhcklucHV0KCkge1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICAgIGVycm9yQ29udGFpbmVyLnRleHRDb250ZW50ID0gJyc7XG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgfSk7XG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5sZXQgbG9nID0gY29uc29sZS5sb2c7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwLCB7IGZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2Zvcm1TdWJtaXQgPSBmb3JtU3VibWl0O1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Zvcm0nKTtcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbF9faW5wdXQnKTtcbiAgICB0aGlzLl9idG5TYXZlID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2J1dHRvbicpO1xuICAgIHRoaXMuX2J0blNhdmVEZWZhdWx0ID0gdGhpcy5fYnRuU2F2ZS50ZXh0Q29udGVudDtcbiAgfVxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtVmFsdWVzO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICB9XG5cbiAgc2V0dXBEZWZhdWx0VGV4dCgpIHtcbiAgICB0aGlzLl9idG5TYXZlLnRleHRDb250ZW50ID0gdGhpcy5fYnRuU2F2ZURlZmF1bHQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9mb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5fYnRuU2F2ZS50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtSAuLi4nO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlRWxlbWVudCwgc3VidGl0bGVFbGVtZW50LCBhdmF0YXJQcm9maWxCZykge1xuICAgIHRoaXMuX3RpdGxlRWxlbWVudCA9IHRpdGxlRWxlbWVudDtcbiAgICB0aGlzLl9zdWJ0aXRsZUVsZW1lbnQgPSBzdWJ0aXRsZUVsZW1lbnQ7XG4gICAgdGhpcy5fYXZhdGFyUHJvZmlsQmcgPSBhdmF0YXJQcm9maWxCZztcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICBjb25zdCBpbmZvVXNlciA9IHtcbiAgICAgIG5hbWU6IHRoaXMuX3RpdGxlRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9zdWJ0aXRsZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgICByZXR1cm4gaW5mb1VzZXI7XG4gIH1cblxuICBzZXRVc2VySW5mbyhlbGVtZW50KSB7XG4gICAgdGhpcy5fYXZhdGFyUHJvZmlsQmcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2VsZW1lbnQuYXZhdGFyfSlgO1xuICAgIHRoaXMuX3RpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9IGVsZW1lbnQubmFtZTtcbiAgICB0aGlzLl9zdWJ0aXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBlbGVtZW50LmFib3V0O1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBpbnB1dEVkaXROYW1lLFxuICBpbnB1dEVkaXRBYm91dCxcbiAgZm9ybUVkaXRQcm9maWxlLFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBmb3JtQ3JlYWRDYXJkLFxuICB0aXRsZUVsZW1lbnQsXG4gIGJ1dHRvbk9wZW5FZGl0UHJvZmlsZUZvcm0sXG4gIGJ1dHRvbk9wZW5BZGRDYXJkRm9ybSxcbiAgc3VidGl0bGVFbGVtZW50LFxuICB0ZW1wbGF0ZUVsZW1lbnQsXG4gIGVsZW1lbnRzLFxuICBmb3JtQXZhdGFyLFxuICBhdmF0YXJQcm9maWxCZyxcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy/QoWFyZC5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcblxuLy8g0LfQsNCz0L7RgtC+0LLQutCwINC00LvRjyDRgdC+0LfQtNCw0L3QuNGPINC80LXRgtC+0LTQvtCyINC60LvQsNGB0YHQsCBBcGlcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02NicsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnZTY3NGE5NzAtNzEwYS00MzVlLThjYTYtOTVlZWFkYjI4NTFkJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB9LFxufSk7XG5cbi8vINGB0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0L7QsiDQstCw0LvQsNC00LDRhtC40Lgg0YTQvtGA0LxcbmNvbnN0IHZhbGlkYXRlRWRpdEZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWRpdFByb2ZpbGUsIHZhbGlkYXRpb25Db25maWcpO1xuY29uc3QgdmFsaWRhdGVDcmVhZEZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ3JlYWRDYXJkLCB2YWxpZGF0aW9uQ29uZmlnKTtcbmNvbnN0IHZhbGlkYXRlQXZhdGFyRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1BdmF0YXIsIHZhbGlkYXRpb25Db25maWcpO1xuLy8g0LLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC8XG52YWxpZGF0ZUF2YXRhckZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xudmFsaWRhdGVFZGl0Rm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG52YWxpZGF0ZUNyZWFkRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG4vLyDRg9GB0YLQsNC90L7QstC60LAg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyICDQvdCwIHNlY3Rpb24gUHJvZmlsZSAg0LTQu9GPINC+0YLQutGA0YvRgtC40Y8g0LjRhSDQv9C+0L/QsNC/0L7QslxuYXZhdGFyUHJvZmlsQmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQXZhdGFyUG9wdXApO1xuYnV0dG9uT3BlbkVkaXRQcm9maWxlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5FZGl0UHJvZmlsZVBvcHVwKTtcbmJ1dHRvbk9wZW5BZGRDYXJkRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRDYXJkUG9wdXApO1xuXG4vLyDRgdC+0LfQtNCw0L3QuNC1IHBvcHVwJ9C+0LJcbmNvbnN0IHBvcHVwQ3JlYXRlID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNteS1tb2RhbC1jcmVhZCcsIHtcbiAgZm9ybVN1Ym1pdDogaGFuZGxlU3VibWl0Rm9ybUNhcmQsXG59KTtcbmNvbnN0IHBvcHVwSW1nID0gbmV3IFBvcHVwV2l0aEltYWdlKCcjbXktbW9kYWwtaW1hZ2UnKTtcbmNvbnN0IHBvcHVwRWRpdCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjbXktbW9kYWwtZWRpdCcsIHtcbiAgZm9ybVN1Ym1pdDogaGFuZGxlU3VibWl0Rm9ybVByb2ZpbGUsXG59KTtcbmNvbnN0IHBvcHVwQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNteS1tb2RhbC1hdmF0YXInLCB7XG4gIGZvcm1TdWJtaXQ6IGhlbmRsZVN1Ym1pdEZvcm1BdmF0YXIsXG59KTtcbmNvbnN0IHBvcHVwRGVsZXRlID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbignI215LW1vZGFsLWRlbGV0ZScsIHtcbiAgaGVuZGxlRGVsZXRlOiBkZWxldGVDYXJkLFxufSk7XG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh0aXRsZUVsZW1lbnQsIHN1YnRpdGxlRWxlbWVudCwgYXZhdGFyUHJvZmlsQmcpO1xuLy8g0LfQsNC/0YPRgdC6INC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiDRgdC+0LHRi9GC0LjQuVxucG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cENyZWF0ZS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBJbWcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cERlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpO1xuLy8g0L7RgtC60YDRi9GC0LjQtSBwb3B1cCfQvtCyXG5mdW5jdGlvbiBvcGVuQWRkQ2FyZFBvcHVwKCkge1xuICBwb3B1cENyZWF0ZS5vcGVuKCk7XG4gIHZhbGlkYXRlQ3JlYWRGb3JtLnJlc2V0RXJyb3JBbmRDbGVhcklucHV0KCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5FZGl0UHJvZmlsZVBvcHVwKCkge1xuICBwb3B1cEVkaXQub3BlbigpO1xuICBmaWxsSW5FZGl0UHJvZmlsZUZvcm1JbnB1dHModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gIHZhbGlkYXRlRWRpdEZvcm0ucmVzZXRFcnJvckFuZENsZWFySW5wdXQoKTtcbn1cblxuZnVuY3Rpb24gb3BlbkF2YXRhclBvcHVwKCkge1xuICBwb3B1cEF2YXRhci5vcGVuKCk7XG4gIHZhbGlkYXRlQXZhdGFyRm9ybS5yZXNldEVycm9yQW5kQ2xlYXJJbnB1dCgpO1xufVxuLy8g0L7QsdGA0LDQsdC+0YLRh9C40LrQuCBzdWJtaXQgZm9ybVxuZnVuY3Rpb24gaGFuZGxlU3VibWl0Rm9ybUNhcmQoaW5mb0FkZCkge1xuICBhcGlcbiAgICAuYWRkQ2FyZEJ5U2VydmVyKGluZm9BZGQpXG4gICAgLnRoZW4oKGRhdGFDYXJkKSA9PiB7XG4gICAgICBkYXRhQ2FyZC5teUlkID0gZGF0YUNhcmQub3duZXIuX2lkO1xuICAgICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbShkYXRhQ2FyZCk7XG4gICAgICBwb3B1cENyZWF0ZS5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0YHQvtC30LTQsNC90LjQuCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lg6ICR7ZXJyfWApKVxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwQ3JlYXRlLnNldHVwRGVmYXVsdFRleHQoKSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdEZvcm1Qcm9maWxlKGluZm9FZGl0KSB7XG4gIGFwaVxuICAgIC5zZXRVc2VySW5mbyhpbmZvRWRpdClcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gICAgICBwb3B1cEVkaXQuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAg0L/RgNC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Lgg0L/RgNC+0YTQuNC70Y86ICR7ZXJyfWApKVxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwRWRpdC5zZXR1cERlZmF1bHRUZXh0KCkpO1xufVxuXG5mdW5jdGlvbiBoZW5kbGVTdWJtaXRGb3JtQXZhdGFyKGluZm8pIHtcbiAgYXBpXG4gICAgLnNldFVzZXJBdmF0YXIoaW5mbylcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gICAgICBwb3B1cEF2YXRhci5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQuCDQkNCy0LDRgtCw0YDQutC4OiR7ZXJyfWApKVxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwQXZhdGFyLnNldHVwRGVmYXVsdFRleHQoKSk7XG59XG4vLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQvdCw0LbQsNGC0LjRjyDQvdCwICDQutC+0YDQt9C90YNcbmZ1bmN0aW9uIGhhbmRsZUNsaWNrQnRuRGVsZXRlKGRhdGEsIGV2dCkge1xuICBwb3B1cERlbGV0ZS5vcGVuKGRhdGEsIGV2dCk7XG59XG4vLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQvdCw0LbQsNGC0LjRjyDQvdCwINC60LDRgNGC0LjQvdC60YNcbmZ1bmN0aW9uIGhhbmRsZUNsaWNrSW1nKG5hbWUsIGxpbmspIHtcbiAgcG9wdXBJbWcub3BlbihuYW1lLCBsaW5rKTtcbn1cbi8vINC30LDQv9C+0LvQvdC10L3QuNC1INC/0L7Qu9C10LkgaW5wdXQg0YTQvtGA0LzRiyBFZGl0XG5mdW5jdGlvbiBmaWxsSW5FZGl0UHJvZmlsZUZvcm1JbnB1dHMoaW5mbykge1xuICBpbnB1dEVkaXROYW1lLnZhbHVlID0gaW5mby5uYW1lO1xuICBpbnB1dEVkaXRBYm91dC52YWx1ZSA9IGluZm8uYWJvdXQ7XG59XG4vLyDRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcbmZ1bmN0aW9uIGRlbGV0ZUNhcmQoZGF0YSwgZWxlbWVudCkge1xuICBhcGlcbiAgICAuZGVsZXRlQ2FyZEJ5U2VydmVyKGRhdGEpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgZWxlbWVudC5yZW1vdmVDYXJkKCk7XG4gICAgICBwb3B1cERlbGV0ZS5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0YPQtNCw0LvQtdC90LjQuCDQutCw0YDRgtC+0YfQutC4OiR7ZXJyfWApKVxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwRGVsZXRlLnNldHVwRGVmYXVsdFRleHQoKSk7XG59XG4vLyDRgdC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkSXRlbSA9IG5ldyBDYXJkKFxuICAgIGl0ZW0sXG4gICAgaGFuZGxlQ2xpY2tJbWcsXG4gICAgdGVtcGxhdGVFbGVtZW50LFxuICAgIGhhbmRsZUNsaWNrQnRuRGVsZXRlLFxuICAgIChpZENhcmQsIGJ0bkxpa2UpID0+IHtcbiAgICAgIGlmIChidG5MaWtlLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fYnV0dG9uLWxpa2VfYWN0aXZlJykpIHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmRlbGV0ZUxpa2UoaWRDYXJkKVxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGNhcmRJdGVtLmNoYW5nZWRMaWtlKHJlcy5saWtlcyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwINC/0YDQuCDRg9C00LDQu9C10L3QuNC4INC70LDQudC60LA6JHtlcnJ9YCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGlcbiAgICAgICAgICAuYWRkTGlrZShpZENhcmQpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgY2FyZEl0ZW0uY2hhbmdlZExpa2UocmVzLmxpa2VzKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC4INC70LDQudC60LA6JHtlcnJ9YCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICApO1xuICByZXR1cm4gY2FyZEl0ZW0uZ2V0Q2FyZCgpO1xufTtcbi8vINC00L7QsdCw0LLQu9C10L3QuNC1INCz0L7RgtC+0LLRi9GFINC60LDRgNGC0L7Rh9C10Log0L3QsCDRgdGC0LDRgNC90LjRhtGDXG5jb25zdCBjcmVhdGVJdGVtID0gKGRhdGEpID0+IHtcbiAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XG4gIGNhcmRTZWN0aW9uLmFkZEl0ZW1QcmVwZW5kKGNhcmQpO1xufTtcbi8vINC60LvQsNGB0YEgINGBINC/0L7QvNC+0YnRjNGOINC60L7RgtC+0YDQvtCz0L4g0L3QtdC/0L7RgdGA0LXQtNGB0YLQstC10L3QvdC+INC40LTQtdGCINC00L7QsdCw0LLQu9C10L3QuNC1XG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjcmVhdGVJdGVtKGl0ZW0pO1xuICAgIH0sXG4gIH0sXG4gIGVsZW1lbnRzXG4pO1xuLy8g0LfQsNC/0YDQvtGBINC90LAg0YHQtdGA0LLQtdGAINC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQutCw0YDRgtC+0YfQtdC6XG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRDYXJkcygpXSlcbiAgLnRoZW4oKFtkYXRhVXNlciwgZGF0YUNhcmRdKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YVVzZXIpO1xuICAgIGRhdGFDYXJkLnJldmVyc2UoKS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50Lm15SWQgPSBkYXRhVXNlci5faWQ7XG4gICAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtKGVsZW1lbnQpO1xuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT5cbiAgICBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAg0L/RgNC4INGB0L7Qt9C00LDQvdC40Lgg0L3QsNGH0LDQu9GM0L3Ri9GFINC00LDQvdC90YvRhSDRgdGC0YDQsNC90LjRhtGLOiAke2Vycn1gKVxuICApO1xuIl0sIm5hbWVzIjpbImlucHV0RWRpdE5hbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbnB1dEVkaXRBYm91dCIsImF2YXRhclByb2ZpbEJnIiwidGl0bGVFbGVtZW50Iiwic3VidGl0bGVFbGVtZW50IiwiYnV0dG9uT3BlbkVkaXRQcm9maWxlRm9ybSIsImJ1dHRvbk9wZW5BZGRDYXJkRm9ybSIsImZvcm1BdmF0YXIiLCJmb3JtcyIsImZvcm1DcmVhZENhcmQiLCJmb3JtRWRpdFByb2ZpbGUiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJjb250ZW50IiwiZWxlbWVudHMiLCJ2YWxpZGF0aW9uQ29uZmlnIiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJhY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIkFwaSIsIm9wdGlvbnMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2F1dGhvcml6YXRpb24iLCJhdXRob3JpemF0aW9uIiwiX2NvbnRlblR5cGUiLCJrZXkiLCJ2YWx1ZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJmZXRjaCIsImNvbmNhdCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsImRhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm5hbWUiLCJsaW5rIiwiYWJvdXQiLCJhdmF0YXIiLCJfaWQiLCJpZCIsIkNhcmQiLCJoYW5kbGVDbGlja0ltZyIsImhhbmRsZUNsaWNrQnRuRGVsZXRlIiwiY2hhbmdlTGlrZSIsIl9kYXRhIiwiX2NoYW5nZUxpa2UiLCJfdGVtcGxhdGUiLCJfY2FyZElkIiwiX3VzZXJJZCIsIm93bmVyIiwiX2FycmF5TGlrZXMiLCJsaWtlcyIsIl9hcnJheUxpa2VzTGVuZ3RoIiwibGVuZ3RoIiwiX215SWQiLCJteUlkIiwiX2NhcmQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9idG5EZWxldGUiLCJfaXRlbUltZyIsIl9pdGVtVGl0bGUiLCJfYnRuTGlrZSIsIl9jb3VudGVyTGlrZSIsIl9pbWdDYXJkIiwiX2NoZWNrVmlzaWJsZUZvclRyYXNoQnV0dG9uIiwiX2NoZWNrTGlrZVN0YXR1cyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX3RoaXMiLCJmb3JFYWNoIiwibGlrZSIsImNsYXNzTGlzdCIsImFkZCIsIl90aGlzMiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZSIsInRvZ2dsZSIsIl9nZW5lcmF0ZUNhcmQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmUiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lckVsZW1lbnQiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJjb25zb2xlIiwibG9nIiwiUG9wdXAiLCJzZWxlY3RvclBvcHVwIiwiX3BvcHVwIiwiX2J0bkNsb3NlIiwiX2hlbmRsZUVzY0Nsb3NlIiwiYmluZCIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsInBvcHVwIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJoZW5kbGVEZWxldGUiLCJjYWxsIiwiX2hlbmRsZURlbGV0ZSIsIl9mb3JtIiwiX2J0blllcyIsIl9idG5ZZXNEZWZhdWx0IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsInByZXZlbnREZWZhdWx0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1nIiwiX3RpdGxlIiwiRm9ybVZhbGlkYXRvciIsImZvcm0iLCJfaW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwiX2J1dHRvbiIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfaW5hY3RpdmVCdXR0b24iLCJfYWN0aXZlQnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzVmFsaWRhdGlvbiIsImlucHV0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfZGlzYWJsZUJ1dHRvbiIsIl9lbmFibGVCdXR0b24iLCJjdXJyZW50SW5wdXRFcnJvckNvbnRhaW5lciIsInZhbGlkaXR5IiwidmFsaWQiLCJfcmVtb3ZlUmVkTGluZSIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2FkZFJlZExpbmUiLCJzb21lIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiUG9wdXBXaXRoRm9ybSIsImZvcm1TdWJtaXQiLCJfZm9ybVN1Ym1pdCIsIl9idG5TYXZlIiwiX2J0blNhdmVEZWZhdWx0IiwiZm9ybVZhbHVlcyIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiVXNlckluZm8iLCJfdGl0bGVFbGVtZW50IiwiX3N1YnRpdGxlRWxlbWVudCIsIl9hdmF0YXJQcm9maWxCZyIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiYXBpIiwidmFsaWRhdGVFZGl0Rm9ybSIsInZhbGlkYXRlQ3JlYWRGb3JtIiwidmFsaWRhdGVBdmF0YXJGb3JtIiwiZW5hYmxlVmFsaWRhdGlvbiIsInBvcHVwQXZhdGFyIiwib3BlbiIsInJlc2V0RXJyb3JBbmRDbGVhcklucHV0IiwiaW5mbyIsInBvcHVwRWRpdCIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJwb3B1cENyZWF0ZSIsImluZm9BZGQiLCJhZGRDYXJkQnlTZXJ2ZXIiLCJkYXRhQ2FyZCIsImNhcmRTZWN0aW9uIiwicmVuZGVySXRlbSIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJmaW5hbGx5Iiwic2V0dXBEZWZhdWx0VGV4dCIsInBvcHVwSW1nIiwiaW5mb0VkaXQiLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJwb3B1cERlbGV0ZSIsImRlbGV0ZUNhcmRCeVNlcnZlciIsInJlbW92ZUNhcmQiLCJzZXRFdmVudExpc3RlbmVycyIsImNhcmRJdGVtIiwiY2FyZCIsImlkQ2FyZCIsImJ0bkxpa2UiLCJkZWxldGVMaWtlIiwiY2hhbmdlZExpa2UiLCJhZGRMaWtlIiwiZ2V0Q2FyZCIsImFkZEl0ZW1QcmVwZW5kIiwiYWxsIiwiZ2V0Q2FyZHMiLCJfcmVmMiIsImRhdGFVc2VyIiwicmV2ZXJzZSJdLCJzb3VyY2VSb290IjoiIn0=