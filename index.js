(()=>{"use strict";var t=document.querySelector(".modal__input_modal_name"),e=document.querySelector(".modal__input_modal_about"),n=document.querySelector(".profile__image-ellipse"),r=(document.querySelector(".modal__input_naming"),document.querySelector(".modal__input_linking"),document.querySelector(".profile__info-title")),o=document.querySelector(".profile__info-subtitle"),i=document.querySelector(".profile__info-edit-button"),u=document.querySelector(".profile__add-botton"),a=document.forms["profile-form-avatar"],c=document.forms["profile-form-cread"],l=document.forms["profile-form-edit"],s=(document.querySelector(".modal__img"),document.querySelector(".modal__heading"),document.querySelector("#new-element").content),f=document.querySelector(".elements"),y=(document.querySelectorAll(".modal"),{formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_invalid",activeButtonClass:"modal__button",inputErrorClass:"modal__input_error"});function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers,this._authorization=this._headers.authorization,this._contenType=this._headers["Content-Type"]}var e,n;return e=t,(n=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject}},{key:"getCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._authorization}}).then(this._checkResponse)}},{key:"addCardByServer",value:function(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._authorization}}).then(this._checkResponse)}},{key:"setUserInfo",value:function(t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then(this._checkResponse)}},{key:"setUserAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.avatar})}).then(this._checkResponse)}},{key:"deleteCardByServer",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t._id),{method:"DELETE",headers:{authorization:this._authorization}}).then(this._checkResponse)}},{key:"addLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:{authorization:this._authorization}}).then(this._checkResponse)}},{key:"deleteLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:{authorization:this._authorization}}).then(this._checkResponse)}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}var _=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e,this.handleClickImg=n,this.handleClickBtnDelete=o,this._changeLike=i,this._template=r,this._cardId=e._id,this._userId=e.owner._id,this._arrayLikes=e.likes,this._arrayLikesLength=e.likes.length,this._myId=e.myId,this._card=this._template.cloneNode(!0),this._element=this._card.querySelector(".element"),this._btnDelete=this._element.querySelector(".element__button-delete"),this._itemImg=this._element.querySelector(".element__image"),this._itemTitle=this._element.querySelector(".element__title"),this._btnLike=this._element.querySelector(".element__button-like"),this._counterLike=this._element.querySelector(".element__counter-like"),this._imgCard=this._element.querySelector(".element__image")}var e,n;return e=t,(n=[{key:"_generateCard",value:function(){return this._checkVisibleForTrashButton(),this._checkLikeStatus(),this._itemImg.src=this._data.link,this._itemImg.alt=this._data.name,this._itemTitle.textContent=this._data.name,this._card}},{key:"_checkLikeStatus",value:function(){var t=this;this._arrayLikes.forEach((function(e){e._id!==t._myId||t._btnLike.classList.add("element__button-like_active")})),this._counterLike.textContent=this._arrayLikesLength}},{key:"_checkVisibleForTrashButton",value:function(){this._btnDelete.classList.add(this._userId===this._myId?"element__button-delete_visible":"element__button-delete_hidden")}},{key:"_handleLike",value:function(){this._changeLike(this._cardId,this._btnLike)}},{key:"_setEventListeners",value:function(){var t=this;this._btnDelete.addEventListener("click",(function(e){t.handleClickBtnDelete(t._data,e)})),this._btnLike.addEventListener("click",(function(){t._handleLike()})),this._imgCard.addEventListener("click",(function(){t.handleClickImg(t._data.name,t._data.link)}))}},{key:"changedLike",value:function(t){this._btnLike.classList.toggle("element__button-like_active"),this._counterLike.textContent=t.length}},{key:"getCard",value:function(){return this._generateCard(),this._setEventListeners(),this._card}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}var g=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=n}var e,n;return e=t,(n=[{key:"renderItem",value:function(t){this._renderer(t)}},{key:"addItemPrepend",value:function(t){this._container.prepend(t)}}])&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}console.log;var E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._btnClose=this._popup.querySelector(".modal__close"),this._hendleEscClose=this._hendleEscClose.bind(this),this.close=this.close.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._hendleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._hendleEscClose)}},{key:"_hendleEscClose",value:function(t){if("Escape"===t.key){var e=document.querySelector("modal_opened");this.close(e)}}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){e.target.classList.contains("modal_opened")&&t.close(),e.target.classList.contains("modal__close")&&t.close()}))}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(this,arguments)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(r);if(o){var n=C(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n,r=e.hendleDelete;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._hendleDelete=r,n._form=n._popup.querySelector(".modal__form"),n._btnYes=n._form.querySelector(".modal__button"),n._btnYesDefault=n._btnYes.textContent,n}return e=u,(n=[{key:"open",value:function(t,e){P(C(u.prototype),"open",this).call(this),this._element=t,this._btnDelete=e}},{key:"setupDefaultText",value:function(){this._btnYes.textContent=this._btnYesDefault}},{key:"setEventListeners",value:function(){var t=this;P(C(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._hendleDelete(t._element,t._btnDelete),t._btnYes.textContent="".concat(t._btnYes.textContent," ...")}))}}])&&O(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(E);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==T(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=D(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},q.apply(this,arguments)}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=D(r);if(o){var n=D(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._img=e._popup.querySelector(".modal__img"),e._title=e._popup.querySelector(".modal__heading"),e}return e=u,(n=[{key:"open",value:function(t,e){q(D(u.prototype),"open",this).call(this),this._img.src=e,this._img.alt=t,this._title.textContent=t}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(E);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===U(o)?o:String(o)),r)}var o}const z=function(){function t(e,n){var r=n.inputSelector,o=n.submitButtonSelector,i=n.inactiveButtonClass,u=n.activeButtonClass,a=n.inputErrorClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=e,this._inputs=Array.from(this._form.querySelectorAll(r)),this._button=this._form.querySelector(o),this._inputErrorClass=a,this._inactiveButton=i,this._activeButton=u}var e,n;return e=t,(n=[{key:"enableValidation",value:function(){this._setEventListenersValidation()}},{key:"_setEventListenersValidation",value:function(){var t=this;this._inputs.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._hasInvalidInput()?t._disableButton():t._enableButton()}))}))}},{key:"_checkInputValidity",value:function(t){var e=document.querySelector("#".concat(t.id,"-error"));t.validity.valid?(e.textContent="",this._removeRedLine(t)):(e.textContent=t.validationMessage,this._addRedLine(t))}},{key:"_hasInvalidInput",value:function(){return this._inputs.some((function(t){return!t.validity.valid}))}},{key:"_disableButton",value:function(){this._button.classList.add(this._inactiveButton),this._button.setAttribute("disabled",!0)}},{key:"_enableButton",value:function(){this._button.classList.remove(this._inactiveButton),this._button.removeAttribute("disabled")}},{key:"_removeRedLine",value:function(t){t.classList.remove(this._inputErrorClass)}},{key:"_addRedLine",value:function(t){t.classList.add(this._inputErrorClass)}},{key:"resetErrorAndClearInput",value:function(){var t=this;this._inputs.forEach((function(e){document.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(t._inputErrorClass)})),this._disableButton()}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===V(o)?o:String(o)),r)}var o}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=F(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},N.apply(this,arguments)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}console.log;var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(r);if(o){var n=F(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n,r=e.formSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._formSubmit=r,n._form=n._popup.querySelector(".modal__form"),n._inputs=n._form.querySelectorAll(".modal__input"),n._btnSave=n._form.querySelector(".modal__button"),n._btnSaveDefault=n._btnSave.textContent,n}return e=u,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputs.forEach((function(e){t[e.name]=e.value})),t}},{key:"open",value:function(){N(F(u.prototype),"open",this).call(this)}},{key:"close",value:function(){N(F(u.prototype),"close",this).call(this),this._form.reset()}},{key:"setupDefaultText",value:function(){this._btnSave.textContent=this._btnSaveDefault}},{key:"setEventListeners",value:function(){var t=this;N(F(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._formSubmit(t._getInputValues()),t._btnSave.textContent="".concat(t._btnSave.textContent,"...")}))}}])&&Y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(E);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===M(o)?o:String(o)),r)}var o}var G=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._titleElement=e,this._subtitleElement=n,this._avatarProfilBg=r}var e,n;return e=t,(n=[{key:"setUserInfo",value:function(t){this._avatarProfilBg.style.backgroundImage="url(".concat(t.avatar,")"),this._titleElement.textContent=t.name,this._subtitleElement.textContent=t.about}}])&&$(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var W=new d({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-66",headers:{authorization:"e674a970-710a-435e-8ca6-95eeadb2851d","Content-Type":"application/json"}}),X=new z(l,y),Z=new z(c,y),tt=new z(a,y);tt.enableValidation(),X.enableValidation(),Z.enableValidation(),n.addEventListener("click",(function(){ot.open(),tt.resetErrorAndClearInput()})),i.addEventListener("click",(function(){rt.open(),W.getUserInfo().then((function(n){var r;r=n,t.value=r.name,e.value=r.about})),X.resetErrorAndClearInput()})),u.addEventListener("click",(function(){et.open(),Z.resetErrorAndClearInput()}));var et=new H("#my-modal-cread",{formSubmit:function(t){Promise.all([W.getUserInfo(),W.addCardByServer(t)]).then((function(t){var e=K(t,2),n=e[0],r=e[1];r.myId=n._id,lt.renderItem(r),et.close()})).catch((function(t){return console.error("Ошибка при создании новой карточки: ".concat(t))})).finally((function(){return et.setupDefaultText()}))}}),nt=new x("#my-modal-image"),rt=new H("#my-modal-edit",{formSubmit:function(t){W.setUserInfo(t).then((function(t){ut.setUserInfo(t),rt.close()})).catch((function(t){return console.error("Ошибка при редактировании профиля: ".concat(t))})).finally((function(){return rt.setupDefaultText()}))}}),ot=new H("#my-modal-avatar",{formSubmit:function(t){W.setUserAvatar(t).then((function(t){ut.setUserInfo(t),ot.close()})).catch((function(t){return console.error("Ошибка при редактировании Аватарки:".concat(t))})).finally((function(){return ot.setupDefaultText()}))}}),it=new I("#my-modal-delete",{hendleDelete:function(t,e){W.deleteCardByServer(t).then((function(){e.target.closest(".element").remove(),it.close()})).catch((function(t){return console.error("Ошибка при удалении карточки:".concat(t))})).finally((function(){return it.setupDefaultText()}))}}),ut=new G(r,o,n);function at(t,e){it.open(t,e)}function ct(t,e){nt.open(t,e)}rt.setEventListeners(),et.setEventListeners(),nt.setEventListeners(),ot.setEventListeners(),it.setEventListeners();var lt=new g({renderer:function(t){var e,n;n=(e=new _(t,ct,s,at,(function(t,n){n.classList.contains("element__button-like_active")?W.deleteLike(t).then((function(t){e.changedLike(t.likes)})).catch((function(t){console.error("Ошибка при удалении лайка:".concat(t))})):W.addLike(t).then((function(t){e.changedLike(t.likes)})).catch((function(t){console.error("Ошибка при добавлении лайка:".concat(t))}))}))).getCard(),lt.addItemPrepend(n)}},f);Promise.all([W.getUserInfo(),W.getCards()]).then((function(t){var e=K(t,2),n=e[0],r=e[1];ut.setUserInfo(n),r.reverse().forEach((function(t){t.myId=n._id,lt.renderItem(t)}))})).catch((function(t){return console.error("Ошибка при создании начальных данных страницы: ".concat(t))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Im1CQUNPLElBQU1BLEVBQWdCQyxTQUFTQyxjQUFjLDRCQUN2Q0MsRUFBaUJGLFNBQVNDLGNBQ3JDLDZCQUdXRSxFQUFpQkgsU0FBU0MsY0FBYywyQkFPeENHLEdBTG1CSixTQUFTQyxjQUFjLHdCQUN0QkQsU0FBU0MsY0FDeEMseUJBRzBCRCxTQUFTQyxjQUFjLHlCQUN0Q0ksRUFBa0JMLFNBQVNDLGNBQ3RDLDJCQUdXSyxFQUE0Qk4sU0FBU0MsY0FDaEQsOEJBR1dNLEVBQXdCUCxTQUFTQyxjQUM1Qyx3QkFHV08sRUFBYVIsU0FBU1MsTUFBTSx1QkFDNUJDLEVBQWdCVixTQUFTUyxNQUFNLHNCQUMvQkUsRUFBa0JYLFNBQVNTLE1BQU0scUJBSWpDRyxHQUhjWixTQUFTQyxjQUFjLGVBQ3hCRCxTQUFTQyxjQUFjLG1CQUVsQkQsU0FBU0MsY0FBYyxnQkFBZ0JZLFNBRXpEQyxFQUFXZCxTQUFTQyxjQUFjLGFBZ0NsQ2MsR0E5QlNmLFNBQVNnQixpQkFBaUIsVUE4QmhCLENBQzlCQyxhQUFjLGVBQ2RDLGNBQWUsZ0JBQ2ZDLHFCQUFzQixpQkFDdEJDLG9CQUFxQix3QkFDckJDLGtCQUFtQixnQkFDbkJDLGdCQUFpQix1Qix1cUJDeEVFQyxFQUFHLFdBQ3RCLFNBQUFBLEVBQVlDLEksNEZBQVNDLENBQUEsS0FBQUYsR0FDbkJHLEtBQUtDLFNBQVdILEVBQVFJLFFBQ3hCRixLQUFLRyxTQUFXTCxFQUFRTSxRQUN4QkosS0FBS0ssZUFBaUJMLEtBQUtHLFNBQVNHLGNBQ3BDTixLQUFLTyxZQUFjUCxLQUFLRyxTQUFTLGVBQ25DLEMsUUF3RUMsTyxFQXhFQU4sRyxFQUFBLEVBQUFXLElBQUEsaUJBQUFDLE1BQ0QsU0FBZUMsR0FDYixPQUFPQSxFQUFJQyxHQUFLRCxFQUFJRSxPQUFTQyxRQUFRQyxNQUN2QyxHQUFDLENBQUFOLElBQUEsV0FBQUMsTUFDRCxXQUNFLE9BQU9NLE1BQU0sR0FBREMsT0FBSWhCLEtBQUtDLFNBQVEsVUFBVSxDQUNyQ0csUUFBUyxDQUNQRSxjQUFlTixLQUFLSyxrQkFFckJZLEtBQUtqQixLQUFLa0IsZUFDZixHQUFDLENBQUFWLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0JVLEdBQ2QsT0FBT0osTUFBTSxHQUFEQyxPQUFJaEIsS0FBS0MsU0FBUSxVQUFVLENBQ3JDbUIsT0FBUSxPQUNSaEIsUUFBU0osS0FBS0csU0FDZGtCLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJDLEtBQU1MLEVBQUtLLEtBQ1hDLEtBQU1OLEVBQUtNLFNBRVpSLEtBQUtqQixLQUFLa0IsZUFDZixHQUFDLENBQUFWLElBQUEsY0FBQUMsTUFDRCxXQUNFLE9BQU9NLE1BQU0sR0FBREMsT0FBSWhCLEtBQUtDLFNBQVEsYUFBYSxDQUN4Q0csUUFBUyxDQUNQRSxjQUFlTixLQUFLSyxrQkFFckJZLEtBQUtqQixLQUFLa0IsZUFDZixHQUFDLENBQUFWLElBQUEsY0FBQUMsTUFDRCxTQUFZVSxHQUNWLE9BQU9KLE1BQU0sR0FBREMsT0FBSWhCLEtBQUtDLFNBQVEsYUFBYSxDQUN4Q21CLE9BQVEsUUFDUmhCLFFBQVNKLEtBQUtHLFNBQ2RrQixLQUFNQyxLQUFLQyxVQUFVLENBQ25CQyxLQUFNTCxFQUFLSyxLQUNYRSxNQUFPUCxFQUFLTyxVQUViVCxLQUFLakIsS0FBS2tCLGVBQ2YsR0FBQyxDQUFBVixJQUFBLGdCQUFBQyxNQUNELFNBQWNVLEdBQ1osT0FBT0osTUFBTSxHQUFEQyxPQUFJaEIsS0FBS0MsU0FBUSxvQkFBb0IsQ0FDL0NtQixPQUFRLFFBQ1JoQixRQUFTSixLQUFLRyxTQUNka0IsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQkksT0FBUVIsRUFBS1EsV0FFZFYsS0FBS2pCLEtBQUtrQixlQUNmLEdBQUMsQ0FBQVYsSUFBQSxxQkFBQUMsTUFDRCxTQUFtQlUsR0FDakIsT0FBT0osTUFBTSxHQUFEQyxPQUFJaEIsS0FBS0MsU0FBUSxXQUFBZSxPQUFVRyxFQUFLUyxLQUFPLENBQ2pEUixPQUFRLFNBQ1JoQixRQUFTLENBQ1BFLGNBQWVOLEtBQUtLLGtCQUVyQlksS0FBS2pCLEtBQUtrQixlQUNmLEdBQUMsQ0FBQVYsSUFBQSxVQUFBQyxNQUNELFNBQVFvQixHQUNOLE9BQU9kLE1BQU0sR0FBREMsT0FBSWhCLEtBQUtDLFNBQVEsV0FBQWUsT0FBVWEsRUFBRSxVQUFVLENBQ2pEVCxPQUFRLE1BQ1JoQixRQUFTLENBQ1BFLGNBQWVOLEtBQUtLLGtCQUVyQlksS0FBS2pCLEtBQUtrQixlQUNmLEdBQUMsQ0FBQVYsSUFBQSxhQUFBQyxNQUVELFNBQVdvQixHQUNULE9BQU9kLE1BQU0sR0FBREMsT0FBSWhCLEtBQUtDLFNBQVEsV0FBQWUsT0FBVWEsRUFBRSxVQUFVLENBQ2pEVCxPQUFRLFNBQ1JoQixRQUFTLENBQ1BFLGNBQWVOLEtBQUtLLGtCQUVyQlksS0FBS2pCLEtBQUtrQixlQUNmLE0sb0VBQUNyQixDQUFBLENBOUVxQixHLHVxQkNBSGlDLEVBQUksV0FDdkIsU0FBQUEsRUFDRVgsRUFDQVksRUFDQTdDLEVBQ0E4QyxFQUNBQyxJLDRGQUNBbEMsQ0FBQSxLQUFBK0IsR0FDQTlCLEtBQUtrQyxNQUFRZixFQUNibkIsS0FBSytCLGVBQWlCQSxFQUN0Qi9CLEtBQUtnQyxxQkFBdUJBLEVBQzVCaEMsS0FBS21DLFlBQWNGLEVBQ25CakMsS0FBS29DLFVBQVlsRCxFQUNqQmMsS0FBS3FDLFFBQVVsQixFQUFLUyxJQUNwQjVCLEtBQUtzQyxRQUFVbkIsRUFBS29CLE1BQU1YLElBQzFCNUIsS0FBS3dDLFlBQWNyQixFQUFLc0IsTUFDeEJ6QyxLQUFLMEMsa0JBQW9CdkIsRUFBS3NCLE1BQU1FLE9BQ3BDM0MsS0FBSzRDLE1BQVF6QixFQUFLMEIsS0FDbEI3QyxLQUFLOEMsTUFBUTlDLEtBQUtvQyxVQUFVVyxXQUFVLEdBQ3RDL0MsS0FBS2dELFNBQVdoRCxLQUFLOEMsTUFBTXZFLGNBQWMsWUFDekN5QixLQUFLaUQsV0FBYWpELEtBQUtnRCxTQUFTekUsY0FBYywyQkFDOUN5QixLQUFLa0QsU0FBV2xELEtBQUtnRCxTQUFTekUsY0FBYyxtQkFDNUN5QixLQUFLbUQsV0FBYW5ELEtBQUtnRCxTQUFTekUsY0FBYyxtQkFDOUN5QixLQUFLb0QsU0FBV3BELEtBQUtnRCxTQUFTekUsY0FBYyx5QkFDNUN5QixLQUFLcUQsYUFBZXJELEtBQUtnRCxTQUFTekUsY0FBYywwQkFDaER5QixLQUFLc0QsU0FBV3RELEtBQUtnRCxTQUFTekUsY0FBYyxrQkFDOUMsQyxRQWtEQyxPLEVBbERBdUQsRyxFQUFBLEVBQUF0QixJQUFBLGdCQUFBQyxNQUNELFdBTUUsT0FMQVQsS0FBS3VELDhCQUNMdkQsS0FBS3dELG1CQUNMeEQsS0FBS2tELFNBQVNPLElBQU16RCxLQUFLa0MsTUFBTVQsS0FDL0J6QixLQUFLa0QsU0FBU1EsSUFBTTFELEtBQUtrQyxNQUFNVixLQUMvQnhCLEtBQUttRCxXQUFXUSxZQUFjM0QsS0FBS2tDLE1BQU1WLEtBQ2xDeEIsS0FBSzhDLEtBQ2QsR0FBQyxDQUFBdEMsSUFBQSxtQkFBQUMsTUFDRCxXQUFtQixJQUFBbUQsRUFBQSxLQUNqQjVELEtBQUt3QyxZQUFZcUIsU0FBUSxTQUFDQyxHQUNwQkEsRUFBS2xDLE1BQVFnQyxFQUFLaEIsT0FDcEJnQixFQUFLUixTQUFTVyxVQUFVQyxJQUFJLDhCQUdoQyxJQUNBaEUsS0FBS3FELGFBQWFNLFlBQWMzRCxLQUFLMEMsaUJBQ3ZDLEdBQUMsQ0FBQWxDLElBQUEsOEJBQUFDLE1BQ0QsV0FDRVQsS0FBS2lELFdBQVdjLFVBQVVDLElBQ3hCaEUsS0FBS3NDLFVBQVl0QyxLQUFLNEMsTUFDbEIsaUNBQ0EsZ0NBRVIsR0FBQyxDQUFBcEMsSUFBQSxjQUFBQyxNQUVELFdBQ0VULEtBQUttQyxZQUFZbkMsS0FBS3FDLFFBQVNyQyxLQUFLb0QsU0FDdEMsR0FBQyxDQUFBNUMsSUFBQSxxQkFBQUMsTUFFRCxXQUFxQixJQUFBd0QsRUFBQSxLQUNuQmpFLEtBQUtpRCxXQUFXaUIsaUJBQWlCLFNBQVMsU0FBQ0MsR0FDekNGLEVBQUtqQyxxQkFBcUJpQyxFQUFLL0IsTUFBT2lDLEVBQ3hDLElBQ0FuRSxLQUFLb0QsU0FBU2MsaUJBQWlCLFNBQVMsV0FDdENELEVBQUtHLGFBQ1AsSUFDQXBFLEtBQUtzRCxTQUFTWSxpQkFBaUIsU0FBUyxXQUN0Q0QsRUFBS2xDLGVBQWVrQyxFQUFLL0IsTUFBTVYsS0FBTXlDLEVBQUsvQixNQUFNVCxLQUNsRCxHQUNGLEdBQUMsQ0FBQWpCLElBQUEsY0FBQUMsTUFDRCxTQUFZZ0MsR0FDVnpDLEtBQUtvRCxTQUFTVyxVQUFVTSxPQUFPLCtCQUMvQnJFLEtBQUtxRCxhQUFhTSxZQUFjbEIsRUFBTUUsTUFDeEMsR0FBQyxDQUFBbkMsSUFBQSxVQUFBQyxNQUVELFdBR0UsT0FGQVQsS0FBS3NFLGdCQUNMdEUsS0FBS3VFLHFCQUNFdkUsS0FBSzhDLEtBQ2QsTSxvRUFBQ2hCLENBQUEsQ0E1RXNCLEcsdXFCQ0FKMEMsRUFBTyxXQUMxQixTQUFBQSxFQUFBQyxFQUEwQkMsR0FBa0IsSUFBOUJDLEVBQVFGLEVBQVJFLFUsNEZBQVE1RSxDQUFBLEtBQUF5RSxHQUNwQnhFLEtBQUs0RSxVQUFZRCxFQUNqQjNFLEtBQUs2RSxXQUFhSCxDQUNwQixDLFFBT0MsTyxFQVBBRixHLEVBQUEsRUFBQWhFLElBQUEsYUFBQUMsTUFDRCxTQUFXcUUsR0FDVDlFLEtBQUs0RSxVQUFVRSxFQUNqQixHQUFDLENBQUF0RSxJQUFBLGlCQUFBQyxNQUVELFNBQWVzRSxHQUNiL0UsS0FBSzZFLFdBQVdHLFFBQVFELEVBQzFCLE0sb0VBQUNQLENBQUEsQ0FYeUIsRyxtcUJDQWxCUyxRQUFRQyxJQUFsQixJQUNxQkMsRUFBSyxXQUN4QixTQUFBQSxFQUFZQyxJLDRGQUFlckYsQ0FBQSxLQUFBb0YsR0FDekJuRixLQUFLcUYsT0FBUy9HLFNBQVNDLGNBQWM2RyxHQUNyQ3BGLEtBQUtzRixVQUFZdEYsS0FBS3FGLE9BQU85RyxjQUFjLGlCQUMzQ3lCLEtBQUt1RixnQkFBa0J2RixLQUFLdUYsZ0JBQWdCQyxLQUFLeEYsTUFDakRBLEtBQUt5RixNQUFRekYsS0FBS3lGLE1BQU1ELEtBQUt4RixLQUMvQixDLFFBd0JDLE8sRUF4QkFtRixHLEVBQUEsRUFBQTNFLElBQUEsT0FBQUMsTUFDRCxXQUNFVCxLQUFLcUYsT0FBT3RCLFVBQVVDLElBQUksZ0JBQzFCMUYsU0FBUzRGLGlCQUFpQixVQUFXbEUsS0FBS3VGLGdCQUM1QyxHQUFDLENBQUEvRSxJQUFBLFFBQUFDLE1BQ0QsV0FDRVQsS0FBS3FGLE9BQU90QixVQUFVMkIsT0FBTyxnQkFDN0JwSCxTQUFTcUgsb0JBQW9CLFVBQVczRixLQUFLdUYsZ0JBQy9DLEdBQUMsQ0FBQS9FLElBQUEsa0JBQUFDLE1BQ0QsU0FBZ0IwRCxHQUNkLEdBQWdCLFdBQVpBLEVBQUkzRCxJQUFrQixDQUN4QixJQUFNb0YsRUFBUXRILFNBQVNDLGNBQWMsZ0JBQ3JDeUIsS0FBS3lGLE1BQU1HLEVBQ2IsQ0FDRixHQUFDLENBQUFwRixJQUFBLG9CQUFBQyxNQUNELFdBQW9CLElBQUFtRCxFQUFBLEtBQ2xCNUQsS0FBS3FGLE9BQU9uQixpQkFBaUIsYUFBYSxTQUFDQyxHQUNyQ0EsRUFBSTBCLE9BQU85QixVQUFVK0IsU0FBUyxpQkFDaENsQyxFQUFLNkIsUUFFSHRCLEVBQUkwQixPQUFPOUIsVUFBVStCLFNBQVMsaUJBQ2hDbEMsRUFBSzZCLE9BRVQsR0FDRixNLG9FQUFDTixDQUFBLENBOUJ1QixHLGd2Q0NESyxJQUNWWSxFQUFxQixTQUFBQyxJLHFSQUFBQyxDQUFBRixFQUFBQyxHQUFBLEksUUFBQUUsRyxFQUFBSCxFLHFyQkFDeEMsU0FBQUEsRUFBWVgsRUFBYVgsR0FBb0IsSUFBQWIsRUFBaEJ1QyxFQUFZMUIsRUFBWjBCLGFBS29CLE8sNEZBTFJwRyxDQUFBLEtBQUFnRyxJQUN2Q25DLEVBQUFzQyxFQUFBRSxLQUFBLEtBQU1oQixJQUNEaUIsY0FBZ0JGLEVBQ3JCdkMsRUFBSzBDLE1BQVExQyxFQUFLeUIsT0FBTzlHLGNBQWMsZ0JBQ3ZDcUYsRUFBSzJDLFFBQVUzQyxFQUFLMEMsTUFBTS9ILGNBQWMsa0JBQ3hDcUYsRUFBSzRDLGVBQWlCNUMsRUFBSzJDLFFBQVE1QyxZQUFZQyxDQUNqRCxDQWlCQyxPLEVBakJBbUMsRyxFQUFBLEVBQUF2RixJQUFBLE9BQUFDLE1BQ0QsU0FBS1UsRUFBTWdELEdBQ1RzQyxFQUFBQyxFQUFBWCxFQUFBWSxXQUFBLGFBQUFQLEtBQUEsTUFDQXBHLEtBQUtnRCxTQUFXN0IsRUFDaEJuQixLQUFLaUQsV0FBYWtCLENBQ3BCLEdBQUMsQ0FBQTNELElBQUEsbUJBQUFDLE1BRUQsV0FDRVQsS0FBS3VHLFFBQVE1QyxZQUFjM0QsS0FBS3dHLGNBQ2xDLEdBQUMsQ0FBQWhHLElBQUEsb0JBQUFDLE1BQ0QsV0FBb0IsSUFBQXdELEVBQUEsS0FDbEJ3QyxFQUFBQyxFQUFBWCxFQUFBWSxXQUFBLDBCQUFBUCxLQUFBLE1BQ0FwRyxLQUFLc0csTUFBTXBDLGlCQUFpQixVQUFVLFNBQUNDLEdBQ3JDQSxFQUFJeUMsaUJBQ0ozQyxFQUFLb0MsY0FBY3BDLEVBQUtqQixTQUFVaUIsRUFBS2hCLFlBQ3ZDZ0IsRUFBS3NDLFFBQVE1QyxZQUFjLEdBQUgzQyxPQUFNaUQsRUFBS3NDLFFBQVE1QyxZQUFXLE9BQ3hELEdBQ0YsTSxvRUFBQ29DLENBQUEsQ0F4QnVDLENBQVNaLEcsZ3ZDQ0RwQixJQUNWMEIsRUFBYyxTQUFBYixJLHFSQUFBQyxDQUFBWSxFQUFBYixHQUFBLEksUUFBQUUsRyxFQUFBVyxFLHFyQkFDakMsU0FBQUEsRUFBWXpCLEdBQWUsSUFBQXhCLEVBR2tDLE8sNEZBSGxDN0QsQ0FBQSxLQUFBOEcsSUFDekJqRCxFQUFBc0MsRUFBQUUsS0FBQSxLQUFNaEIsSUFDRDBCLEtBQU9sRCxFQUFLeUIsT0FBTzlHLGNBQWMsZUFDdENxRixFQUFLbUQsT0FBU25ELEVBQUt5QixPQUFPOUcsY0FBYyxtQkFBbUJxRixDQUM3RCxDQU9DLE8sRUFQQWlELEcsRUFBQSxFQUFBckcsSUFBQSxPQUFBQyxNQUVELFNBQUtlLEVBQU1DLEdBQ1RnRixFQUFBQyxFQUFBRyxFQUFBRixXQUFBLGFBQUFQLEtBQUEsTUFDQXBHLEtBQUs4RyxLQUFLckQsSUFBTWhDLEVBQ2hCekIsS0FBSzhHLEtBQUtwRCxJQUFNbEMsRUFDaEJ4QixLQUFLK0csT0FBT3BELFlBQWNuQyxDQUM1QixNLG9FQUFDcUYsQ0FBQSxDQVpnQyxDQUFTMUIsRyxtcUJDMEU1QyxRQTFFbUIsV0FDakIsU0FBQTZCLEVBQ0VDLEVBQUl4QyxHQVFKLElBTkVqRixFQUFhaUYsRUFBYmpGLGNBQ0FDLEVBQW9CZ0YsRUFBcEJoRixxQkFDQUMsRUFBbUIrRSxFQUFuQi9FLG9CQUNBQyxFQUFpQjhFLEVBQWpCOUUsa0JBQ0FDLEVBQWU2RSxFQUFmN0UsaUIsNEZBQWVHLENBQUEsS0FBQWlILEdBR2pCaEgsS0FBS3NHLE1BQVFXLEVBQ2JqSCxLQUFLa0gsUUFBVUMsTUFBTUMsS0FBS3BILEtBQUtzRyxNQUFNaEgsaUJBQWlCRSxJQUN0RFEsS0FBS3FILFFBQVVySCxLQUFLc0csTUFBTS9ILGNBQWNrQixHQUN4Q08sS0FBS3NILGlCQUFtQjFILEVBQ3hCSSxLQUFLdUgsZ0JBQWtCN0gsRUFDdkJNLEtBQUt3SCxjQUFnQjdILENBQ3ZCLEMsUUFzREMsTyxFQXREQXFILEcsRUFBQSxFQUFBeEcsSUFBQSxtQkFBQUMsTUFFRCxXQUNFVCxLQUFLeUgsOEJBQ1AsR0FBQyxDQUFBakgsSUFBQSwrQkFBQUMsTUFDRCxXQUErQixJQUFBbUQsRUFBQSxLQUM3QjVELEtBQUtrSCxRQUFRckQsU0FBUSxTQUFDNkQsR0FDcEJBLEVBQU14RCxpQkFBaUIsU0FBUyxXQUM5Qk4sRUFBSytELG9CQUFvQkQsR0FDckI5RCxFQUFLZ0UsbUJBQ1BoRSxFQUFLaUUsaUJBRUxqRSxFQUFLa0UsZUFFVCxHQUNGLEdBQ0YsR0FBQyxDQUFBdEgsSUFBQSxzQkFBQUMsTUFDRCxTQUFvQmlILEdBQ2xCLElBQU1LLEVBQTZCekosU0FBU0MsY0FBYyxJQUFEeUMsT0FDbkQwRyxFQUFNN0YsR0FBRSxXQUdWNkYsRUFBTU0sU0FBU0MsT0FDakJGLEVBQTJCcEUsWUFBYyxHQUN6QzNELEtBQUtrSSxlQUFlUixLQUVwQkssRUFBMkJwRSxZQUFjK0QsRUFBTVMsa0JBQy9DbkksS0FBS29JLFlBQVlWLEdBRXJCLEdBQUMsQ0FBQWxILElBQUEsbUJBQUFDLE1BQ0QsV0FDRSxPQUFPVCxLQUFLa0gsUUFBUW1CLE1BQUssU0FBQ3ZELEdBQUksT0FBTUEsRUFBS2tELFNBQVNDLEtBQUssR0FDekQsR0FBQyxDQUFBekgsSUFBQSxpQkFBQUMsTUFDRCxXQUNFVCxLQUFLcUgsUUFBUXRELFVBQVVDLElBQUloRSxLQUFLdUgsaUJBQ2hDdkgsS0FBS3FILFFBQVFpQixhQUFhLFlBQVksRUFDeEMsR0FBQyxDQUFBOUgsSUFBQSxnQkFBQUMsTUFDRCxXQUNFVCxLQUFLcUgsUUFBUXRELFVBQVUyQixPQUFPMUYsS0FBS3VILGlCQUNuQ3ZILEtBQUtxSCxRQUFRa0IsZ0JBQWdCLFdBQy9CLEdBQUMsQ0FBQS9ILElBQUEsaUJBQUFDLE1BQ0QsU0FBZWlILEdBQ2JBLEVBQU0zRCxVQUFVMkIsT0FBTzFGLEtBQUtzSCxpQkFDOUIsR0FBQyxDQUFBOUcsSUFBQSxjQUFBQyxNQUNELFNBQVlpSCxHQUNWQSxFQUFNM0QsVUFBVUMsSUFBSWhFLEtBQUtzSCxpQkFDM0IsR0FBQyxDQUFBOUcsSUFBQSwwQkFBQUMsTUFDRCxXQUEwQixJQUFBd0QsRUFBQSxLQUN4QmpFLEtBQUtrSCxRQUFRckQsU0FBUSxTQUFDNkQsR0FDR3BKLFNBQVNDLGNBQWMsSUFBRHlDLE9BQUswRyxFQUFNN0YsR0FBRSxXQUMzQzhCLFlBQWMsR0FDN0IrRCxFQUFNM0QsVUFBVTJCLE9BQU96QixFQUFLcUQsaUJBQzlCLElBQ0F0SCxLQUFLNkgsZ0JBQ1AsTSxvRUFBQ2IsQ0FBQSxDQXZFZ0IsRyxndkNDQVQvQixRQUFRQyxJQUFsQixJQUNxQnNELEVBQWEsU0FBQXhDLEkscVJBQUFDLENBQUF1QyxFQUFBeEMsR0FBQSxJLFFBQUFFLEcsRUFBQXNDLEUscXJCQUNoQyxTQUFBQSxFQUFZcEQsRUFBYVgsR0FBa0IsSUFBQWIsRUFBZDZFLEVBQVVoRSxFQUFWZ0UsV0FNc0IsTyw0RkFOWjFJLENBQUEsS0FBQXlJLElBQ3JDNUUsRUFBQXNDLEVBQUFFLEtBQUEsS0FBTWhCLElBQ0RzRCxZQUFjRCxFQUNuQjdFLEVBQUswQyxNQUFRMUMsRUFBS3lCLE9BQU85RyxjQUFjLGdCQUN2Q3FGLEVBQUtzRCxRQUFVdEQsRUFBSzBDLE1BQU1oSCxpQkFBaUIsaUJBQzNDc0UsRUFBSytFLFNBQVcvRSxFQUFLMEMsTUFBTS9ILGNBQWMsa0JBQ3pDcUYsRUFBS2dGLGdCQUFrQmhGLEVBQUsrRSxTQUFTaEYsWUFBWUMsQ0FDbkQsQ0EyQkMsTyxFQTNCQTRFLEcsRUFBQSxFQUFBaEksSUFBQSxrQkFBQUMsTUFDRCxXQUNFLElBQU1vSSxFQUFhLENBQUMsRUFJcEIsT0FIQTdJLEtBQUtrSCxRQUFRckQsU0FBUSxTQUFDNkQsR0FDcEJtQixFQUFXbkIsRUFBTWxHLE1BQVFrRyxFQUFNakgsS0FDakMsSUFDT29JLENBQ1QsR0FBQyxDQUFBckksSUFBQSxPQUFBQyxNQUNELFdBQ0VnRyxFQUFBQyxFQUFBOEIsRUFBQTdCLFdBQUEsYUFBQVAsS0FBQSxLQUNGLEdBQUMsQ0FBQTVGLElBQUEsUUFBQUMsTUFDRCxXQUNFZ0csRUFBQUMsRUFBQThCLEVBQUE3QixXQUFBLGNBQUFQLEtBQUEsTUFDQXBHLEtBQUtzRyxNQUFNd0MsT0FDYixHQUFDLENBQUF0SSxJQUFBLG1CQUFBQyxNQUVELFdBQ0VULEtBQUsySSxTQUFTaEYsWUFBYzNELEtBQUs0SSxlQUNuQyxHQUFDLENBQUFwSSxJQUFBLG9CQUFBQyxNQUVELFdBQW9CLElBQUF3RCxFQUFBLEtBQ2xCd0MsRUFBQUMsRUFBQThCLEVBQUE3QixXQUFBLDBCQUFBUCxLQUFBLE1BQ0FwRyxLQUFLc0csTUFBTXBDLGlCQUFpQixVQUFVLFNBQUNDLEdBQ3JDQSxFQUFJeUMsaUJBQ0ozQyxFQUFLeUUsWUFBWXpFLEVBQUs4RSxtQkFDdEI5RSxFQUFLMEUsU0FBU2hGLFlBQWMsR0FBSDNDLE9BQU1pRCxFQUFLMEUsU0FBU2hGLFlBQVcsTUFDMUQsR0FDRixNLG9FQUFDNkUsQ0FBQSxDQW5DK0IsQ0FBU3JELEcsdXFCQ0Z0QjZELEVBQVEsV0FDM0IsU0FBQUEsRUFBWXRLLEVBQWNDLEVBQWlCRixJLDRGQUFnQnNCLENBQUEsS0FBQWlKLEdBQ3pEaEosS0FBS2lKLGNBQWdCdkssRUFDckJzQixLQUFLa0osaUJBQW1CdkssRUFDeEJxQixLQUFLbUosZ0JBQWtCMUssQ0FDekIsQyxRQU1DLE8sRUFOQXVLLEcsRUFBQSxFQUFBeEksSUFBQSxjQUFBQyxNQUVELFNBQVlzRSxHQUNWL0UsS0FBS21KLGdCQUFnQkMsTUFBTUMsZ0JBQWtCLE9BQUhySSxPQUFVK0QsRUFBUXBELE9BQU0sS0FDbEUzQixLQUFLaUosY0FBY3RGLFlBQWNvQixFQUFRdkQsS0FDekN4QixLQUFLa0osaUJBQWlCdkYsWUFBY29CLEVBQVFyRCxLQUM5QyxNLG9FQUFDc0gsQ0FBQSxDQVgwQixHLGtoQ0MwQjdCLElBQU1NLEVBQU0sSUFBSXpKLEVBQUksQ0FDbEJLLFFBQVMsOENBQ1RFLFFBQVMsQ0FDUEUsY0FBZSx1Q0FDZixlQUFnQixzQkFLZGlKLEVBQW1CLElBQUl2QyxFQUFjL0gsRUFBaUJJLEdBQ3REbUssRUFBb0IsSUFBSXhDLEVBQWNoSSxFQUFlSyxHQUNyRG9LLEdBQXFCLElBQUl6QyxFQUFjbEksRUFBWU8sR0FFekRvSyxHQUFtQkMsbUJBQ25CSCxFQUFpQkcsbUJBQ2pCRixFQUFrQkUsbUJBRWxCakwsRUFBZXlGLGlCQUFpQixTQXVDaEMsV0FDRXlGLEdBQVlDLE9BQ1pILEdBQW1CSSx5QkFDckIsSUF6Q0FqTCxFQUEwQnNGLGlCQUFpQixTQThCM0MsV0FDRTRGLEdBQVVGLE9BQ1ZOLEVBQUlTLGNBQWM5SSxNQUFLLFNBQUNFLEdBb0QxQixJQUFxQzZJLElBbkRMN0ksRUFvRDlCOUMsRUFBY29DLE1BQVF1SixFQUFLeEksS0FDM0JoRCxFQUFlaUMsTUFBUXVKLEVBQUt0SSxLQXBENUIsSUFDQTZILEVBQWlCTSx5QkFDbkIsSUFuQ0FoTCxFQUFzQnFGLGlCQUFpQixTQXdCdkMsV0FDRStGLEdBQVlMLE9BQ1pKLEVBQWtCSyx5QkFDcEIsSUF4QkEsSUFBTUksR0FBYyxJQUFJekIsRUFBYyxrQkFBbUIsQ0FDdkRDLFdBc0NGLFNBQThCeUIsR0FDNUJySixRQUFRc0osSUFBSSxDQUFDYixFQUFJUyxjQUFlVCxFQUFJYyxnQkFBZ0JGLEtBQ2pEakosTUFBSyxTQUFBd0QsR0FBMEIsSUFBQTRGLEVBQUFDLEVBQUE3RixFQUFBLEdBQXhCOEYsRUFBUUYsRUFBQSxHQUFFRyxFQUFRSCxFQUFBLEdBQ3hCRyxFQUFTM0gsS0FBTzBILEVBQVMzSSxJQUN6QjZJLEdBQVlDLFdBQVdGLEdBQ3ZCUCxHQUFZeEUsT0FDZCxJQUNDa0YsT0FBTSxTQUFDQyxHQUFHLE9BQUszRixRQUFRNEYsTUFBTSx1Q0FBRDdKLE9BQXdDNEosR0FBTSxJQUMxRUUsU0FBUSxrQkFBTWIsR0FBWWMsa0JBQWtCLEdBQ2pELElBN0NNQyxHQUFXLElBQUluRSxFQUFlLG1CQUM5QmlELEdBQVksSUFBSXRCLEVBQWMsaUJBQWtCLENBQ3BEQyxXQTZDRixTQUFpQ3dDLEdBQy9CM0IsRUFDRzRCLFlBQVlELEdBQ1poSyxNQUFLLFNBQUNFLEdBQ0xnSyxHQUFTRCxZQUFZL0osR0FDckIySSxHQUFVckUsT0FDWixJQUNDa0YsT0FBTSxTQUFDQyxHQUFHLE9BQUszRixRQUFRNEYsTUFBTSxzQ0FBRDdKLE9BQXVDNEosR0FBTSxJQUN6RUUsU0FBUSxrQkFBTWhCLEdBQVVpQixrQkFBa0IsR0FDL0MsSUFwRE1wQixHQUFjLElBQUluQixFQUFjLG1CQUFvQixDQUN4REMsV0FxREYsU0FBZ0N1QixHQUM5QlYsRUFDRzhCLGNBQWNwQixHQUNkL0ksTUFBSyxTQUFDRSxHQUNMZ0ssR0FBU0QsWUFBWS9KLEdBQ3JCd0ksR0FBWWxFLE9BQ2QsSUFDQ2tGLE9BQU0sU0FBQ0MsR0FBRyxPQUFLM0YsUUFBUTRGLE1BQU0sc0NBQUQ3SixPQUF1QzRKLEdBQU0sSUFDekVFLFNBQVEsa0JBQU1uQixHQUFZb0Isa0JBQWtCLEdBQ2pELElBNURNTSxHQUFjLElBQUl0RixFQUFzQixtQkFBb0IsQ0FDaEVJLGFBMEVGLFNBQW9CaEYsRUFBTWdELEdBQ3hCbUYsRUFDR2dDLG1CQUFtQm5LLEdBQ25CRixNQUFLLFdBQ0prRCxFQUFJMEIsT0FBTzBGLFFBQVEsWUFBWTdGLFNBQy9CMkYsR0FBWTVGLE9BQ2QsSUFDQ2tGLE9BQU0sU0FBQ0MsR0FBRyxPQUFLM0YsUUFBUTRGLE1BQU0sZ0NBQUQ3SixPQUFpQzRKLEdBQU0sSUFDbkVFLFNBQVEsa0JBQU1PLEdBQVlOLGtCQUFrQixHQUNqRCxJQWpGTUksR0FBVyxJQUFJbkMsRUFBU3RLLEVBQWNDLEVBQWlCRixHQTJEN0QsU0FBU3VELEdBQXFCYixFQUFNZ0QsR0FDbENrSCxHQUFZekIsS0FBS3pJLEVBQU1nRCxFQUN6QixDQUVBLFNBQVNwQyxHQUFlUCxFQUFNQyxHQUM1QnVKLEdBQVNwQixLQUFLcEksRUFBTUMsRUFDdEIsQ0EvREFxSSxHQUFVMEIsb0JBQ1Z2QixHQUFZdUIsb0JBQ1pSLEdBQVNRLG9CQUNUN0IsR0FBWTZCLG9CQUNaSCxHQUFZRyxvQkE2RVosSUFvQ01mLEdBQWMsSUFBSWpHLEVBQ3RCLENBQ0VHLFNBQVUsU0FBQ0csR0FQSSxJQTlCWDJHLEVBK0JBQyxLQS9CQUQsRUFBVyxJQUFJM0osRUFzQ05nRCxFQXBDYi9DLEdBQ0E3QyxFQUNBOEMsSUFDQSxTQUFDMkosRUFBUUMsR0FDSEEsRUFBUTdILFVBQVUrQixTQUFTLCtCQUM3QndELEVBQ0d1QyxXQUFXRixHQUNYMUssTUFBSyxTQUFDUCxHQUNMK0ssRUFBU0ssWUFBWXBMLEVBQUkrQixNQUMzQixJQUNDa0ksT0FBTSxTQUFDQyxHQUNOM0YsUUFBUTRGLE1BQU0sNkJBQUQ3SixPQUE4QjRKLEdBQzdDLElBRUZ0QixFQUNHeUMsUUFBUUosR0FDUjFLLE1BQUssU0FBQ1AsR0FDTCtLLEVBQVNLLFlBQVlwTCxFQUFJK0IsTUFDM0IsSUFDQ2tJLE9BQU0sU0FBQ0MsR0FDTjNGLFFBQVE0RixNQUFNLCtCQUFEN0osT0FBZ0M0SixHQUMvQyxHQUVOLEtBRWNvQixVQUtoQnZCLEdBQVl3QixlQUFlUCxFQU96QixHQUVGdE0sR0FHRnlCLFFBQVFzSixJQUFJLENBQUNiLEVBQUlTLGNBQWVULEVBQUk0QyxhQUNqQ2pMLE1BQUssU0FBQWtMLEdBQTBCLElBQUFDLEVBQUE5QixFQUFBNkIsRUFBQSxHQUF4QjVCLEVBQVE2QixFQUFBLEdBQUU1QixFQUFRNEIsRUFBQSxHQUN4QmpCLEdBQVNELFlBQVlYLEdBQ3JCQyxFQUFTNkIsVUFBVXhJLFNBQVEsU0FBQ2tCLEdBQzFCQSxFQUFRbEMsS0FBTzBILEVBQVMzSSxJQUN4QjZJLEdBQVlDLFdBQVczRixFQUN6QixHQUNGLElBQ0M0RixPQUFNLFNBQUNDLEdBQUcsT0FDVDNGLFFBQVE0RixNQUFNLGtEQUFEN0osT0FBbUQ0SixHQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy/QoWFyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbnB1dHMg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRj1xuZXhwb3J0IGNvbnN0IGlucHV0RWRpdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X21vZGFsX25hbWUnKTtcbmV4cG9ydCBjb25zdCBpbnB1dEVkaXRBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcubW9kYWxfX2lucHV0X21vZGFsX2Fib3V0J1xuKTtcbi8vINCw0LLQsNGC0LDRgNC60LAg0L/RgNC+0YTQuNC70Y9cbmV4cG9ydCBjb25zdCBhdmF0YXJQcm9maWxCZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbWFnZS1lbGxpcHNlJyk7XG4vLyBpbnB1dHMg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0YvRhSDQutCw0YDRgtC+0YfQtdC6XG5leHBvcnQgY29uc3QgaW5wdXRDcmVhZE5hbWluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW5wdXRfbmFtaW5nJyk7XG5leHBvcnQgY29uc3QgaW5wdXRDcmVhZExpbmtpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAnLm1vZGFsX19pbnB1dF9saW5raW5nJ1xuKTtcbi8vINC30LDQs9C+0LvQvtCy0L7QuiDQuCDQv9C+0LTQt9Cw0LPQvtC70L7QstC+0LogcHJvZmlsZV9faW5mb1xuZXhwb3J0IGNvbnN0IHRpdGxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvLXRpdGxlJyk7XG5leHBvcnQgY29uc3Qgc3VidGl0bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJy5wcm9maWxlX19pbmZvLXN1YnRpdGxlJ1xuKTtcbi8vINC60L3QvtC/0LrQsCDQvtGC0LrRgNGL0LLQsNC90LjRjyDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPXG5leHBvcnQgY29uc3QgYnV0dG9uT3BlbkVkaXRQcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcucHJvZmlsZV9faW5mby1lZGl0LWJ1dHRvbidcbik7XG4vLyDQutC90L7Qv9C60LAg0L7RgtC60YDRi9Cy0LDQvdC40Y8g0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0YvRhSDQutCw0YDRgtC+0YfQtdC6XG5leHBvcnQgY29uc3QgYnV0dG9uT3BlbkFkZENhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJy5wcm9maWxlX19hZGQtYm90dG9uJ1xuKTtcbi8vINC60L3QvtC/0LrQuCDQt9Cw0LrRgNGL0YLQuNGPINC80L7QtNCw0LvRjNC90YvRhSDQvtC60L7QvSDQuCDRgdCw0LzQuCDQvtC60L3QsCDQuCDQuNGFINGN0LvQtdC80LXQvdGC0YtcbmV4cG9ydCBjb25zdCBmb3JtQXZhdGFyID0gZG9jdW1lbnQuZm9ybXNbJ3Byb2ZpbGUtZm9ybS1hdmF0YXInXTtcbmV4cG9ydCBjb25zdCBmb3JtQ3JlYWRDYXJkID0gZG9jdW1lbnQuZm9ybXNbJ3Byb2ZpbGUtZm9ybS1jcmVhZCddO1xuZXhwb3J0IGNvbnN0IGZvcm1FZGl0UHJvZmlsZSA9IGRvY3VtZW50LmZvcm1zWydwcm9maWxlLWZvcm0tZWRpdCddO1xuZXhwb3J0IGNvbnN0IHNyY0ltZ01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWcnKTtcbmV4cG9ydCBjb25zdCBoZWFkaW5nSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19oZWFkaW5nJyk7XG4vLyB0ZW1wbGF0ZSDQutCw0YDRgtC+0YfQutCwXG5leHBvcnQgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ldy1lbGVtZW50JykuY29udGVudDtcbi8vINCx0LvQvtC6IGVsZW1lbnRzINC60YPQtNCwINC00L7QsdCw0LLQu9GP0Y7RgtGB0Y8g0LPQvtGC0L7QstGL0LUg0LrQsNGA0YLQvtGH0LrQuFxuZXhwb3J0IGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzJyk7XG4vL9Cy0YHQtSDQv9C+0L/QsNC/0YtcbmV4cG9ydCBjb25zdCBwb3B1cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwnKTtcblxuLy8g0LzQsNGB0YHQuNCyINGBINC90LDQt9Cy0LDQvdC40LXQvCDQuCDRgdGB0YvQu9C60L7QuVxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6ICdOZXcgWW9yaycsXG4gICAgbGluazogJ2h0dHBzOi8vcmFyZS1nYWxsZXJ5LmNvbS91cGxvYWRzL3Bvc3RzLzkzNDIwOS1OZXctWW9yay1DaXR5LXN0cmVldC1UaW1lcy1TcXVhcmUuanBnJyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQrdGB0YLQvtC90LjRjycsXG4gICAgbGluazogJ2h0dHBzOi8vdG91cmlzbS5pbnRlcmZheC5ydS9pbWFnZXMvY21zLWltYWdlLTAwMDAwNDA2Ny5qcGcnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ9Ce0LfQtdGA0L4g0KDQuNGG0LAnLFxuICAgIGxpbms6ICdodHRwczovL3ZzZWdkYS1wb21uaW0uY29tL3VwbG9hZHMvcG9zdHMvMjAyMi0wMy8xNjQ4NzUxMzUzXzQ3LXZzZWdkYS1wb21uaW0tY29tLXAtb3plcm8tbWFsYXlhLXJpdHNhLWFia2hheml5YS1mb3RvLTQ4LmpwZycsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JDQt9C+0YDRgdC60LjQtSDQntGB0YLRgNC+0LLQsCcsXG4gICAgbGluazogJ2h0dHBzOi8vdnNlZ2RhLXBvbW5pbS5jb20vdXBsb2Fkcy9wb3N0cy8yMDIyLTAzLzE2NDg2Mjc3MzdfMTAtdnNlZ2RhLXBvbW5pbS1jb20tcC1hem9yc2tpZS1vc3Ryb3ZhLWZvdG8tMTIuanBnJyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQk9C+0LvQu9Cw0L3QtNC40Y8gJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9pbWc1Lmdvb2Rmb24ucnUvb3JpZ2luYWwvMzAwMHgyMDAwL2YvYzUvYW1zdGVyZGFtLXZlY2hlci1vZ25pLWthbmFsLWdvbGxhbmRpaWEtbmlkZXJsYW5keS5qcGcnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ9CY0YHQu9Cw0L3QtNC40Y8nLFxuICAgIGxpbms6ICdodHRwczovL2F2YXRhcnMuZHplbmluZnJhLnJ1L2dldC16ZW5fZG9jLzEwODg3Mi9wdWJfNWFlMTA1MjhiY2U2N2U1NDYyZWMxNjJhXzVhZTFiNjQyNDhjODVlY2UyN2U1NTc1OC9zY2FsZV8xMjAwJyxcbiAgfSxcbl07XG4vL9C+0LHRitC10LrRgiDQutC70Y7RhyDQt9Cw0L3Rh9C10L3QuNGP0LzQuCDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8g0YTRg9C90LrRhtC40LlcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6ICcubW9kYWxfX2Zvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLm1vZGFsX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLm1vZGFsX19idXR0b24nLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnbW9kYWxfX2J1dHRvbl9pbnZhbGlkJyxcbiAgYWN0aXZlQnV0dG9uQ2xhc3M6ICdtb2RhbF9fYnV0dG9uJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnbW9kYWxfX2lucHV0X2Vycm9yJyxcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICAgIHRoaXMuX2F1dGhvcml6YXRpb24gPSB0aGlzLl9oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gICAgdGhpcy5fY29udGVuVHlwZSA9IHRoaXMuX2hlYWRlcnNbJ0NvbnRlbnQtVHlwZSddO1xuICB9XG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3Q7XG4gIH1cbiAgZ2V0Q2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgfSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkQ2FyZEJ5U2VydmVyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICB9LFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG4gIHNldFVzZXJBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuICBkZWxldGVDYXJkQnlTZXJ2ZXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2RhdGEuX2lkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICB9LFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cbiAgYWRkTGlrZShpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICB9LFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcbiAgICAgIH0sXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGEsXG4gICAgaGFuZGxlQ2xpY2tJbWcsXG4gICAgdGVtcGxhdGVFbGVtZW50LFxuICAgIGhhbmRsZUNsaWNrQnRuRGVsZXRlLFxuICAgIGNoYW5nZUxpa2VcbiAgKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5oYW5kbGVDbGlja0ltZyA9IGhhbmRsZUNsaWNrSW1nO1xuICAgIHRoaXMuaGFuZGxlQ2xpY2tCdG5EZWxldGUgPSBoYW5kbGVDbGlja0J0bkRlbGV0ZTtcbiAgICB0aGlzLl9jaGFuZ2VMaWtlID0gY2hhbmdlTGlrZTtcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IHRlbXBsYXRlRWxlbWVudDtcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl91c2VySWQgPSBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl9hcnJheUxpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9hcnJheUxpa2VzTGVuZ3RoID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5fbXlJZCA9IGRhdGEubXlJZDtcbiAgICB0aGlzLl9jYXJkID0gdGhpcy5fdGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50Jyk7XG4gICAgdGhpcy5fYnRuRGVsZXRlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fYnV0dG9uLWRlbGV0ZScpO1xuICAgIHRoaXMuX2l0ZW1JbWcgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xuICAgIHRoaXMuX2l0ZW1UaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJyk7XG4gICAgdGhpcy5fYnRuTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2J1dHRvbi1saWtlJyk7XG4gICAgdGhpcy5fY291bnRlckxpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19jb3VudGVyLWxpa2UnKTtcbiAgICB0aGlzLl9pbWdDYXJkID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcbiAgfVxuICBfZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2NoZWNrVmlzaWJsZUZvclRyYXNoQnV0dG9uKCk7XG4gICAgdGhpcy5fY2hlY2tMaWtlU3RhdHVzKCk7XG4gICAgdGhpcy5faXRlbUltZy5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XG4gICAgdGhpcy5faXRlbUltZy5hbHQgPSB0aGlzLl9kYXRhLm5hbWU7XG4gICAgdGhpcy5faXRlbVRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5uYW1lO1xuICAgIHJldHVybiB0aGlzLl9jYXJkO1xuICB9XG4gIF9jaGVja0xpa2VTdGF0dXMoKSB7XG4gICAgdGhpcy5fYXJyYXlMaWtlcy5mb3JFYWNoKChsaWtlKSA9PiB7XG4gICAgICBpZiAobGlrZS5faWQgPT09IHRoaXMuX215SWQpIHtcbiAgICAgICAgdGhpcy5fYnRuTGlrZS5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19idXR0b24tbGlrZV9hY3RpdmUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX2NvdW50ZXJMaWtlLnRleHRDb250ZW50ID0gdGhpcy5fYXJyYXlMaWtlc0xlbmd0aDtcbiAgfVxuICBfY2hlY2tWaXNpYmxlRm9yVHJhc2hCdXR0b24oKSB7XG4gICAgdGhpcy5fYnRuRGVsZXRlLmNsYXNzTGlzdC5hZGQoXG4gICAgICB0aGlzLl91c2VySWQgPT09IHRoaXMuX215SWRcbiAgICAgICAgPyAnZWxlbWVudF9fYnV0dG9uLWRlbGV0ZV92aXNpYmxlJ1xuICAgICAgICA6ICdlbGVtZW50X19idXR0b24tZGVsZXRlX2hpZGRlbidcbiAgICApO1xuICB9XG5cbiAgX2hhbmRsZUxpa2UoKSB7XG4gICAgdGhpcy5fY2hhbmdlTGlrZSh0aGlzLl9jYXJkSWQsIHRoaXMuX2J0bkxpa2UpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2J0bkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlQ2xpY2tCdG5EZWxldGUodGhpcy5fZGF0YSwgZXZ0KTtcbiAgICB9KTtcbiAgICB0aGlzLl9idG5MaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX2ltZ0NhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUNsaWNrSW1nKHRoaXMuX2RhdGEubmFtZSwgdGhpcy5fZGF0YS5saW5rKTtcbiAgICB9KTtcbiAgfVxuICBjaGFuZ2VkTGlrZShsaWtlcykge1xuICAgIHRoaXMuX2J0bkxpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgdGhpcy5fY291bnRlckxpa2UudGV4dENvbnRlbnQgPSBsaWtlcy5sZW5ndGg7XG4gIH1cblxuICBnZXRDYXJkKCkge1xuICAgIHRoaXMuX2dlbmVyYXRlQ2FyZCgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lckVsZW1lbnQpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lckVsZW1lbnQ7XG4gIH1cbiAgcmVuZGVySXRlbShpdGVtKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gIH1cblxuICBhZGRJdGVtUHJlcGVuZChlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImxldCBsb2cgPSBjb25zb2xlLmxvZztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9idG5DbG9zZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UnKTtcbiAgICB0aGlzLl9oZW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hlbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ21vZGFsX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oZW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWxfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hlbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBfaGVuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21vZGFsX29wZW5lZCcpO1xuICAgICAgdGhpcy5jbG9zZShwb3B1cCk7XG4gICAgfVxuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWxfb3BlbmVkJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9fY2xvc2UnKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCwgeyBoZW5kbGVEZWxldGUgfSkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2hlbmRsZURlbGV0ZSA9IGhlbmRsZURlbGV0ZTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLm1vZGFsX19mb3JtJyk7XG4gICAgdGhpcy5fYnRuWWVzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2J1dHRvbicpO1xuICAgIHRoaXMuX2J0blllc0RlZmF1bHQgPSB0aGlzLl9idG5ZZXMudGV4dENvbnRlbnQ7XG4gIH1cbiAgb3BlbihkYXRhLCBldnQpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IGRhdGE7XG4gICAgdGhpcy5fYnRuRGVsZXRlID0gZXZ0O1xuICB9XG5cbiAgc2V0dXBEZWZhdWx0VGV4dCgpIHtcbiAgICB0aGlzLl9idG5ZZXMudGV4dENvbnRlbnQgPSB0aGlzLl9idG5ZZXNEZWZhdWx0O1xuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hlbmRsZURlbGV0ZSh0aGlzLl9lbGVtZW50LCB0aGlzLl9idG5EZWxldGUpO1xuICAgICAgdGhpcy5fYnRuWWVzLnRleHRDb250ZW50ID0gYCR7dGhpcy5fYnRuWWVzLnRleHRDb250ZW50fSAuLi5gO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2ltZyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW1nJyk7XG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2hlYWRpbmcnKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9pbWcuc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWcuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gIH1cbn1cbiIsIi8vIGNsYXNzIEZvcm1WYWxpZGF0b3Ig0LIg0LrQvtGC0L7RgNC+0Lwg0L/RgNC+0LjRgdGF0L7QtNC40YIg0LLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC8XG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZm9ybSxcbiAgICB7XG4gICAgICBpbnB1dFNlbGVjdG9yLFxuICAgICAgc3VibWl0QnV0dG9uU2VsZWN0b3IsXG4gICAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzLFxuICAgICAgYWN0aXZlQnV0dG9uQ2xhc3MsXG4gICAgICBpbnB1dEVycm9yQ2xhc3MsXG4gICAgfVxuICApIHtcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBpbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b24gPSBpbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2FjdGl2ZUJ1dHRvbiA9IGFjdGl2ZUJ1dHRvbkNsYXNzO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyc1ZhbGlkYXRpb24oKTtcbiAgfVxuICBfc2V0RXZlbnRMaXN0ZW5lcnNWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xuICAgIGNvbnN0IGN1cnJlbnRJbnB1dEVycm9yQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dC5pZH0tZXJyb3JgXG4gICAgKTtcblxuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgY3VycmVudElucHV0RXJyb3JDb250YWluZXIudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIHRoaXMuX3JlbW92ZVJlZExpbmUoaW5wdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50SW5wdXRFcnJvckNvbnRhaW5lci50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgICAgdGhpcy5fYWRkUmVkTGluZShpbnB1dCk7XG4gICAgfVxuICB9XG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0cy5zb21lKChpdGVtKSA9PiAhaXRlbS52YWxpZGl0eS52YWxpZCk7XG4gIH1cbiAgX2Rpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b24pO1xuICAgIHRoaXMuX2J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gIH1cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbik7XG4gICAgdGhpcy5fYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfVxuICBfcmVtb3ZlUmVkTGluZShpbnB1dCkge1xuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuICBfYWRkUmVkTGluZShpbnB1dCkge1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuICByZXNldEVycm9yQW5kQ2xlYXJJbnB1dCgpIHtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgICBlcnJvckNvbnRhaW5lci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIH0pO1xuICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xubGV0IGxvZyA9IGNvbnNvbGUubG9nO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCwgeyBmb3JtU3VibWl0IH0pIHtcbiAgICBzdXBlcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9mb3JtU3VibWl0ID0gZm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLm1vZGFsX19mb3JtJyk7XG4gICAgdGhpcy5faW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX2lucHV0Jyk7XG4gICAgdGhpcy5fYnRuU2F2ZSA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLm1vZGFsX19idXR0b24nKTtcbiAgICB0aGlzLl9idG5TYXZlRGVmYXVsdCA9IHRoaXMuX2J0blNhdmUudGV4dENvbnRlbnQ7XG4gIH1cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcbiAgfVxuICBvcGVuKCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIHNldHVwRGVmYXVsdFRleHQoKSB7XG4gICAgdGhpcy5fYnRuU2F2ZS50ZXh0Q29udGVudCA9IHRoaXMuX2J0blNhdmVEZWZhdWx0O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fZm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuX2J0blNhdmUudGV4dENvbnRlbnQgPSBgJHt0aGlzLl9idG5TYXZlLnRleHRDb250ZW50fS4uLmA7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IodGl0bGVFbGVtZW50LCBzdWJ0aXRsZUVsZW1lbnQsIGF2YXRhclByb2ZpbEJnKSB7XG4gICAgdGhpcy5fdGl0bGVFbGVtZW50ID0gdGl0bGVFbGVtZW50O1xuICAgIHRoaXMuX3N1YnRpdGxlRWxlbWVudCA9IHN1YnRpdGxlRWxlbWVudDtcbiAgICB0aGlzLl9hdmF0YXJQcm9maWxCZyA9IGF2YXRhclByb2ZpbEJnO1xuICB9XG5cbiAgc2V0VXNlckluZm8oZWxlbWVudCkge1xuICAgIHRoaXMuX2F2YXRhclByb2ZpbEJnLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtlbGVtZW50LmF2YXRhcn0pYDtcbiAgICB0aGlzLl90aXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBlbGVtZW50Lm5hbWU7XG4gICAgdGhpcy5fc3VidGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gZWxlbWVudC5hYm91dDtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgaW5wdXRFZGl0TmFtZSxcbiAgaW5wdXRFZGl0QWJvdXQsXG4gIGZvcm1FZGl0UHJvZmlsZSxcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgZm9ybUNyZWFkQ2FyZCxcbiAgdGl0bGVFbGVtZW50LFxuICBidXR0b25PcGVuRWRpdFByb2ZpbGVGb3JtLFxuICBidXR0b25PcGVuQWRkQ2FyZEZvcm0sXG4gIHN1YnRpdGxlRWxlbWVudCxcbiAgdGVtcGxhdGVFbGVtZW50LFxuICBlbGVtZW50cyxcbiAgZm9ybUF2YXRhcixcbiAgYXZhdGFyUHJvZmlsQmcsXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMv0KFhcmQuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcyc7XG5cbi8vINC30LDQs9C+0YLQvtCy0LrQsCDQtNC70Y8g0YHQvtC30LTQsNC90LjRjyDQvNC10YLQvtC00L7QsiDQutC70LDRgdGB0LAgQXBpXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjYnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJ2U2NzRhOTcwLTcxMGEtNDM1ZS04Y2E2LTk1ZWVhZGIyODUxZCcsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbn0pO1xuXG4vLyDRgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNC+0LIg0LLQsNC70LDQtNCw0YbQuNC4INGE0L7RgNC8XG5jb25zdCB2YWxpZGF0ZUVkaXRGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVkaXRQcm9maWxlLCB2YWxpZGF0aW9uQ29uZmlnKTtcbmNvbnN0IHZhbGlkYXRlQ3JlYWRGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNyZWFkQ2FyZCwgdmFsaWRhdGlvbkNvbmZpZyk7XG5jb25zdCB2YWxpZGF0ZUF2YXRhckZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQXZhdGFyLCB2YWxpZGF0aW9uQ29uZmlnKTtcbi8vINCy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvFxudmFsaWRhdGVBdmF0YXJGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcbnZhbGlkYXRlRWRpdEZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xudmFsaWRhdGVDcmVhZEZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xuLy8g0YPRgdGC0LDQvdC+0LLQutCwINC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiAg0L3QsCBzZWN0aW9uIFByb2ZpbGUgINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC40YUg0L/QvtC/0LDQv9C+0LJcbmF2YXRhclByb2ZpbEJnLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkF2YXRhclBvcHVwKTtcbmJ1dHRvbk9wZW5FZGl0UHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRWRpdFByb2ZpbGVQb3B1cCk7XG5idXR0b25PcGVuQWRkQ2FyZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkQ2FyZFBvcHVwKTtcblxuLy8g0YHQvtC30LTQsNC90LjQtSBwb3B1cCfQvtCyXG5jb25zdCBwb3B1cENyZWF0ZSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjbXktbW9kYWwtY3JlYWQnLCB7XG4gIGZvcm1TdWJtaXQ6IGhhbmRsZVN1Ym1pdEZvcm1DYXJkLFxufSk7XG5jb25zdCBwb3B1cEltZyA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnI215LW1vZGFsLWltYWdlJyk7XG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI215LW1vZGFsLWVkaXQnLCB7XG4gIGZvcm1TdWJtaXQ6IGhhbmRsZVN1Ym1pdEZvcm1Qcm9maWxlLFxufSk7XG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjbXktbW9kYWwtYXZhdGFyJywge1xuICBmb3JtU3VibWl0OiBoZW5kbGVTdWJtaXRGb3JtQXZhdGFyLFxufSk7XG5jb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oJyNteS1tb2RhbC1kZWxldGUnLCB7XG4gIGhlbmRsZURlbGV0ZTogZGVsZXRlQ2FyZCxcbn0pO1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8odGl0bGVFbGVtZW50LCBzdWJ0aXRsZUVsZW1lbnQsIGF2YXRhclByb2ZpbEJnKTtcbi8vINC30LDQv9GD0YHQuiDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0YHQvtCx0YvRgtC40LlcbnBvcHVwRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBDcmVhdGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwSW1nLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbi8vINC+0YLQutGA0YvRgtC40LUgcG9wdXAn0L7QslxuZnVuY3Rpb24gb3BlbkFkZENhcmRQb3B1cCgpIHtcbiAgcG9wdXBDcmVhdGUub3BlbigpO1xuICB2YWxpZGF0ZUNyZWFkRm9ybS5yZXNldEVycm9yQW5kQ2xlYXJJbnB1dCgpO1xufVxuXG5mdW5jdGlvbiBvcGVuRWRpdFByb2ZpbGVQb3B1cCgpIHtcbiAgcG9wdXBFZGl0Lm9wZW4oKTtcbiAgYXBpLmdldFVzZXJJbmZvKCkudGhlbigoZGF0YSkgPT4ge1xuICAgIGZpbGxJbkVkaXRQcm9maWxlRm9ybUlucHV0cyhkYXRhKTtcbiAgfSk7XG4gIHZhbGlkYXRlRWRpdEZvcm0ucmVzZXRFcnJvckFuZENsZWFySW5wdXQoKTtcbn1cblxuZnVuY3Rpb24gb3BlbkF2YXRhclBvcHVwKCkge1xuICBwb3B1cEF2YXRhci5vcGVuKCk7XG4gIHZhbGlkYXRlQXZhdGFyRm9ybS5yZXNldEVycm9yQW5kQ2xlYXJJbnB1dCgpO1xufVxuLy8g0L7QsdGA0LDQsdC+0YLRh9C40LrQuCBzdWJtaXQgZm9ybVxuZnVuY3Rpb24gaGFuZGxlU3VibWl0Rm9ybUNhcmQoaW5mb0FkZCkge1xuICBQcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5hZGRDYXJkQnlTZXJ2ZXIoaW5mb0FkZCldKVxuICAgIC50aGVuKChbZGF0YVVzZXIsIGRhdGFDYXJkXSkgPT4ge1xuICAgICAgZGF0YUNhcmQubXlJZCA9IGRhdGFVc2VyLl9pZDtcbiAgICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW0oZGF0YUNhcmQpO1xuICAgICAgcG9wdXBDcmVhdGUuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAg0L/RgNC4INGB0L7Qt9C00LDQvdC40Lgg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4OiAke2Vycn1gKSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cENyZWF0ZS5zZXR1cERlZmF1bHRUZXh0KCkpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXRGb3JtUHJvZmlsZShpbmZvRWRpdCkge1xuICBhcGlcbiAgICAuc2V0VXNlckluZm8oaW5mb0VkaXQpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgICAgcG9wdXBFZGl0LmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwINC/0YDQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC4INC/0YDQvtGE0LjQu9GPOiAke2Vycn1gKSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEVkaXQuc2V0dXBEZWZhdWx0VGV4dCgpKTtcbn1cblxuZnVuY3Rpb24gaGVuZGxlU3VibWl0Rm9ybUF2YXRhcihpbmZvKSB7XG4gIGFwaVxuICAgIC5zZXRVc2VyQXZhdGFyKGluZm8pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgICAgcG9wdXBBdmF0YXIuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAg0L/RgNC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Lgg0JDQstCw0YLQsNGA0LrQuDoke2Vycn1gKSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEF2YXRhci5zZXR1cERlZmF1bHRUZXh0KCkpO1xufVxuLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0L3QsNC20LDRgtC40Y8g0L3QsCAg0LrQvtGA0LfQvdGDXG5mdW5jdGlvbiBoYW5kbGVDbGlja0J0bkRlbGV0ZShkYXRhLCBldnQpIHtcbiAgcG9wdXBEZWxldGUub3BlbihkYXRhLCBldnQpO1xufVxuLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0L3QsNC20LDRgtC40Y8g0L3QsCDQutCw0YDRgtC40L3QutGDXG5mdW5jdGlvbiBoYW5kbGVDbGlja0ltZyhuYW1lLCBsaW5rKSB7XG4gIHBvcHVwSW1nLm9wZW4obmFtZSwgbGluayk7XG59XG4vLyDQt9Cw0L/QvtC70L3QtdC90LjQtSDQv9C+0LvQtdC5IGlucHV0INGE0L7RgNC80YsgRWRpdFxuZnVuY3Rpb24gZmlsbEluRWRpdFByb2ZpbGVGb3JtSW5wdXRzKGluZm8pIHtcbiAgaW5wdXRFZGl0TmFtZS52YWx1ZSA9IGluZm8ubmFtZTtcbiAgaW5wdXRFZGl0QWJvdXQudmFsdWUgPSBpbmZvLmFib3V0O1xufVxuLy8g0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG5mdW5jdGlvbiBkZWxldGVDYXJkKGRhdGEsIGV2dCkge1xuICBhcGlcbiAgICAuZGVsZXRlQ2FyZEJ5U2VydmVyKGRhdGEpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgZXZ0LnRhcmdldC5jbG9zZXN0KCcuZWxlbWVudCcpLnJlbW92ZSgpO1xuICAgICAgcG9wdXBEZWxldGUuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAg0L/RgNC4INGD0LTQsNC70LXQvdC40Lgg0LrQsNGA0YLQvtGH0LrQuDoke2Vycn1gKSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cERlbGV0ZS5zZXR1cERlZmF1bHRUZXh0KCkpO1xufVxuLy8g0YHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBjcmVhdGVDYXJkID0gKGl0ZW0pID0+IHtcbiAgY29uc3QgY2FyZEl0ZW0gPSBuZXcgQ2FyZChcbiAgICBpdGVtLFxuICAgIGhhbmRsZUNsaWNrSW1nLFxuICAgIHRlbXBsYXRlRWxlbWVudCxcbiAgICBoYW5kbGVDbGlja0J0bkRlbGV0ZSxcbiAgICAoaWRDYXJkLCBidG5MaWtlKSA9PiB7XG4gICAgICBpZiAoYnRuTGlrZS5jbGFzc0xpc3QuY29udGFpbnMoJ2VsZW1lbnRfX2J1dHRvbi1saWtlX2FjdGl2ZScpKSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5kZWxldGVMaWtlKGlkQ2FyZClcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBjYXJkSXRlbS5jaGFuZ2VkTGlrZShyZXMubGlrZXMpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0YPQtNCw0LvQtdC90LjQuCDQu9Cw0LnQutCwOiR7ZXJyfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpXG4gICAgICAgICAgLmFkZExpa2UoaWRDYXJkKVxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGNhcmRJdGVtLmNoYW5nZWRMaWtlKHJlcy5saWtlcyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQu9Cw0LnQutCwOiR7ZXJyfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIGNhcmRJdGVtLmdldENhcmQoKTtcbn07XG4vLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQs9C+0YLQvtCy0YvRhSDQutCw0YDRgtC+0YfQtdC6INC90LAg0YHRgtCw0YDQvdC40YbRg1xuY29uc3QgY3JlYXRlSXRlbSA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xuICBjYXJkU2VjdGlvbi5hZGRJdGVtUHJlcGVuZChjYXJkKTtcbn07XG4vLyDQutC70LDRgdGBICDRgSDQv9C+0LzQvtGJ0YzRjiDQutC+0YLQvtGA0L7Qs9C+INC90LXQv9C+0YHRgNC10LTRgdGC0LLQtdC90L3QviDQuNC00LXRgiDQtNC+0LHQsNCy0LvQtdC90LjQtVxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY3JlYXRlSXRlbShpdGVtKTtcbiAgICB9LFxuICB9LFxuICBlbGVtZW50c1xuKTtcbi8vINC30LDQv9GA0L7RgSDQvdCwINGB0LXRgNCy0LXRgCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0Lgg0LrQsNGA0YLQvtGH0LXQulxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0Q2FyZHMoKV0pXG4gIC50aGVuKChbZGF0YVVzZXIsIGRhdGFDYXJkXSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGFVc2VyKTtcbiAgICBkYXRhQ2FyZC5yZXZlcnNlKCkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5teUlkID0gZGF0YVVzZXIuX2lkO1xuICAgICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbShlbGVtZW50KTtcbiAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+XG4gICAgY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwINC/0YDQuCDRgdC+0LfQtNCw0L3QuNC4INC90LDRh9Cw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YUg0YHRgtGA0LDQvdC40YbRizogJHtlcnJ9YClcbiAgKTtcbiJdLCJuYW1lcyI6WyJpbnB1dEVkaXROYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5wdXRFZGl0QWJvdXQiLCJhdmF0YXJQcm9maWxCZyIsInRpdGxlRWxlbWVudCIsInN1YnRpdGxlRWxlbWVudCIsImJ1dHRvbk9wZW5FZGl0UHJvZmlsZUZvcm0iLCJidXR0b25PcGVuQWRkQ2FyZEZvcm0iLCJmb3JtQXZhdGFyIiwiZm9ybXMiLCJmb3JtQ3JlYWRDYXJkIiwiZm9ybUVkaXRQcm9maWxlIiwidGVtcGxhdGVFbGVtZW50IiwiY29udGVudCIsImVsZW1lbnRzIiwidmFsaWRhdGlvbkNvbmZpZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJBcGkiLCJvcHRpb25zIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsIl9hdXRob3JpemF0aW9uIiwiYXV0aG9yaXphdGlvbiIsIl9jb250ZW5UeXBlIiwia2V5IiwidmFsdWUiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiZmV0Y2giLCJjb25jYXQiLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwibGluayIsImFib3V0IiwiYXZhdGFyIiwiX2lkIiwiaWQiLCJDYXJkIiwiaGFuZGxlQ2xpY2tJbWciLCJoYW5kbGVDbGlja0J0bkRlbGV0ZSIsImNoYW5nZUxpa2UiLCJfZGF0YSIsIl9jaGFuZ2VMaWtlIiwiX3RlbXBsYXRlIiwiX2NhcmRJZCIsIl91c2VySWQiLCJvd25lciIsIl9hcnJheUxpa2VzIiwibGlrZXMiLCJfYXJyYXlMaWtlc0xlbmd0aCIsImxlbmd0aCIsIl9teUlkIiwibXlJZCIsIl9jYXJkIiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfYnRuRGVsZXRlIiwiX2l0ZW1JbWciLCJfaXRlbVRpdGxlIiwiX2J0bkxpa2UiLCJfY291bnRlckxpa2UiLCJfaW1nQ2FyZCIsIl9jaGVja1Zpc2libGVGb3JUcmFzaEJ1dHRvbiIsIl9jaGVja0xpa2VTdGF0dXMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl90aGlzIiwiZm9yRWFjaCIsImxpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJfdGhpczIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiX2hhbmRsZUxpa2UiLCJ0b2dnbGUiLCJfZ2VuZXJhdGVDYXJkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJFbGVtZW50IiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiY29uc29sZSIsImxvZyIsIlBvcHVwIiwic2VsZWN0b3JQb3B1cCIsIl9wb3B1cCIsIl9idG5DbG9zZSIsIl9oZW5kbGVFc2NDbG9zZSIsImJpbmQiLCJjbG9zZSIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwb3B1cCIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiaGVuZGxlRGVsZXRlIiwiY2FsbCIsIl9oZW5kbGVEZWxldGUiLCJfZm9ybSIsIl9idG5ZZXMiLCJfYnRuWWVzRGVmYXVsdCIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwV2l0aEltYWdlIiwiX2ltZyIsIl90aXRsZSIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtIiwiX2lucHV0cyIsIkFycmF5IiwiZnJvbSIsIl9idXR0b24iLCJfaW5wdXRFcnJvckNsYXNzIiwiX2luYWN0aXZlQnV0dG9uIiwiX2FjdGl2ZUJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVyc1ZhbGlkYXRpb24iLCJpbnB1dCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVCdXR0b24iLCJfZW5hYmxlQnV0dG9uIiwiY3VycmVudElucHV0RXJyb3JDb250YWluZXIiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3JlbW92ZVJlZExpbmUiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9hZGRSZWRMaW5lIiwic29tZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtU3VibWl0IiwiX2Zvcm1TdWJtaXQiLCJfYnRuU2F2ZSIsIl9idG5TYXZlRGVmYXVsdCIsImZvcm1WYWx1ZXMiLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsIlVzZXJJbmZvIiwiX3RpdGxlRWxlbWVudCIsIl9zdWJ0aXRsZUVsZW1lbnQiLCJfYXZhdGFyUHJvZmlsQmciLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImFwaSIsInZhbGlkYXRlRWRpdEZvcm0iLCJ2YWxpZGF0ZUNyZWFkRm9ybSIsInZhbGlkYXRlQXZhdGFyRm9ybSIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cEF2YXRhciIsIm9wZW4iLCJyZXNldEVycm9yQW5kQ2xlYXJJbnB1dCIsInBvcHVwRWRpdCIsImdldFVzZXJJbmZvIiwiaW5mbyIsInBvcHVwQ3JlYXRlIiwiaW5mb0FkZCIsImFsbCIsImFkZENhcmRCeVNlcnZlciIsIl9yZWYyIiwiX3NsaWNlZFRvQXJyYXkiLCJkYXRhVXNlciIsImRhdGFDYXJkIiwiY2FyZFNlY3Rpb24iLCJyZW5kZXJJdGVtIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsImZpbmFsbHkiLCJzZXR1cERlZmF1bHRUZXh0IiwicG9wdXBJbWciLCJpbmZvRWRpdCIsInNldFVzZXJJbmZvIiwidXNlckluZm8iLCJzZXRVc2VyQXZhdGFyIiwicG9wdXBEZWxldGUiLCJkZWxldGVDYXJkQnlTZXJ2ZXIiLCJjbG9zZXN0Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkSXRlbSIsImNhcmQiLCJpZENhcmQiLCJidG5MaWtlIiwiZGVsZXRlTGlrZSIsImNoYW5nZWRMaWtlIiwiYWRkTGlrZSIsImdldENhcmQiLCJhZGRJdGVtUHJlcGVuZCIsImdldENhcmRzIiwiX3JlZjMiLCJfcmVmNCIsInJldmVyc2UiXSwic291cmNlUm9vdCI6IiJ9